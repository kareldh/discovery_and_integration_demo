(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(t,e,n){t.exports=n(476)},236:function(t,e,n){},237:function(t,e,n){},278:function(t,e){},280:function(t,e){},313:function(t,e){},319:function(t,e){},332:function(t,e){},333:function(t,e){},476:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(104),o=n.n(r),s=(n(236),n(1)),g=n(2),h=n(21),l=n(18),p=n(20),d=n(86),c=n(58),f=(n(237),n(11)),w=n(484),u=n(486),m=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(h.a)(this,Object(l.a)(e).call(this))).zoom=t.zoom,n.state={data:t.data,lat:t.lat,lng:t.lng},n.handleMouseClick=n.handleMouseClick.bind(Object(f.a)(n)),n}return Object(p.a)(e,t),Object(g.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({data:t.data,lat:t.lat,lng:t.lng})}},{key:"handleMouseClick",value:function(t){void 0!==this.props.onMouseClick&&this.props.onMouseClick(t.latlng)}},{key:"render",value:function(){var t=[this.state.lat,this.state.lng],e=this.zoom,n=this.state.data;return a.a.createElement(w.a,{style:{height:"850px"},center:t,zoom:e,onClick:this.handleMouseClick},a.a.createElement(u.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n)}}]),e}(a.a.Component),v=n(137),b=n.n(v);function S(t){return new Promise(function(e){var n={},i={},a=void 0,r=void 0;t.forEach(function(t){if(t.subject&&t.predicate&&t.object){var e=/^http:\/\/www\.openstreetmap\.org\/node\/\d*$/g.exec(t.object.value),o=/^http:\/\/www\.openstreetmap\.org\/node\/\d*$/g.exec(t.subject.value),s=/^http:\/\/www\.openstreetmap\.org\/way\/\d*$/g.exec(t.subject.value);if(e)"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===t.predicate.value?(void 0===n[t.object.value]&&(n[t.object.value]={id:t.object.value,ref:[]}),n[t.object.value].ref.push(t.subject.value)):console.warn(t);else if(o)"http://www.w3.org/2003/01/geo/wgs84_pos#lat"===t.predicate.value?(void 0===n[t.subject.value]&&(n[t.subject.value]={id:t.subject.value,ref:[]}),n[t.subject.value].lat=Number(t.object.value)):"http://www.w3.org/2003/01/geo/wgs84_pos#long"===t.predicate.value&&(void 0===n[t.subject.value]&&(n[t.subject.value]={id:t.subject.value,ref:[]}),n[t.subject.value].long=Number(t.object.value));else if(s)if("https://w3id.org/openstreetmap/terms#hasNodes"===t.predicate.value)void 0===i[t.subject.value]&&(i[t.subject.value]={nodes:[],id:t.subject.value}),i[t.subject.value].nodes.push(t.object.value.toString()),r=t.subject.value,a=t.object.value;else{var g=/^https:\/\/w3id.org\/openstreetmap\/terms#(.*)$/g.exec(t.predicate.value);if(g)if(void 0===i[t.subject.value]&&(i[t.subject.value]={nodes:[],id:t.subject.value}),"hasTag"===g[1]){if(-1!==t.object.value.indexOf("=")){var h=t.object.value.split("=");"area"!==h[0]&&"junction"!==h[0]||(i[t.subject.value][h[0]]=h[1])}}else i[t.subject.value][g[1]]=t.object.value}else if("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===t.predicate.value)if(t.subject.value===a&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"!==t.object.value){if(void 0===r)throw Error("Found a node for an undefined way.");i[r].nodes.push(t.object.value),a=t.object.value}else r=void 0,a=void 0}}),e({nodes:n,lines:i})})}var _=n(481),L=n(482),y=n(485),T=n(480),E=n(28),P=n.n(E),O=n(3),k=Object.freeze({UNDEFINED:0,MOTORWAY:1,MULTIPLE_CARRIAGEWAY:2,SINGLE_CARRIAGEWAY:3,ROUNDABOUT:4,TRAFFICSQUARE:5,SLIPROAD:6,OTHER:7}),D=Object.freeze({FRC_0:0,FRC_1:1,FRC_2:2,FRC_3:3,FRC_4:4,FRC_5:5,FRC_6:6,FRC_7:7}),M=Object.freeze({UNKNOWN:0,LINE_LOCATION:1,GEO_COORDINATES:2,POINT_ALONG_LINE:3,POI_WITH_ACCESS_POINT:4,CIRCLE:5,POLYGON:6,CLOSED_LINE:7,RECTANGLE:8,GRID:9}),I=Object.freeze({METER:1,CENTIMETER:100}),R={dist:5,bearDiff:60,frcDiff:3,lfrcnpDiff:3,distanceToNextDiff:40,alwaysUseProjections:!1,useFrcFow:!0,distMultiplier:40,frcMultiplier:35,fowMultiplier:40,bearMultiplier:30,maxSPSearchRetries:200,maxDecodeRetries:2,distMultiplierForRetry:2},j={bearDist:20,internalPrecision:I.CENTIMETER},N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(s.a)(this,t),this.id=e,this.lat=n,this.long=i,this.incomingLines=a,this.outgoingLines=r,this.setLines(a,r),this.internalPrecision=j.internalPrecision}return Object(g.a)(t,[{key:"setLines",value:function(t,e){this.incomingLines=t,this.outgoingLines=e}},{key:"getLatitudeDeg",value:function(){return this.lat}},{key:"getLongitudeDeg",value:function(){return this.long}},{key:"getOutgoingLines",value:function(){return this.outgoingLines}},{key:"getIncomingLines",value:function(){return this.incomingLines}},{key:"getID",value:function(){return this.id}},{key:"getDistance",value:function(t,e){var n=Object(O.point)([this.long,this.lat]),i=Object(O.point)([e,t]);return this.internalPrecision===I.CENTIMETER?Math.round(P()(n,i,{units:"centimeters"})):Math.round(P()(n,i,{units:"meters"}))}}]),t}(),C=n(138),x=n.n(C),Z=n(207),X=n.n(Z),F=n(139),K=n.n(F),A=n(83),B=n.n(A),G=function(){function t(e,n,i,a){Object(s.a)(this,t),this.startNode=n,this.endNode=i,this.id=e,this.fow=k.UNDEFINED,this.frc=D.FRC_7,this.lineLength=void 0,this.turnRestriction=void 0,this.bearing=void 0,this.reverseBearing=void 0,n.outgoingLines.push(this),i.incomingLines.push(this),this.internalPrecision=j.internalPrecision}return Object(g.a)(t,[{key:"getStartNode",value:function(){return this.startNode}},{key:"getEndNode",value:function(){return this.endNode}},{key:"getFOW",value:function(){return this.fow}},{key:"getFRC",value:function(){return this.frc}},{key:"getLength",value:function(){if(void 0===this.lineLength&&void 0!==this.startNode&&void 0!==this.endNode){var t=Object(O.point)([this.startNode.getLongitudeDeg(),this.startNode.getLatitudeDeg()]),e=Object(O.point)([this.endNode.getLongitudeDeg(),this.endNode.getLatitudeDeg()]);this.internalPrecision===I.CENTIMETER?this.lineLength=Math.round(P()(t,e,{units:"centimeters"})):this.lineLength=Math.round(P()(t,e,{units:"meters"})),0===this.lineLength&&(this.lineLength=1)}return this.lineLength}},{key:"getID",value:function(){return this.id}},{key:"getTurnRestriction",value:function(){return this.turnRestriction}},{key:"getGeoCoordinateAlongLine",value:function(t){if(Math.abs(t)>this.getLength()){var e=t>=0;return console.log("Line shorter than "+t+". The latitude and longitude of "+(e?"startNode":"endNode")+" are returned"),e?{lat:this.endNode.getLatitudeDeg(),long:this.endNode.getLongitudeDeg()}:{lat:this.startNode.getLatitudeDeg(),long:this.startNode.getLongitudeDeg()}}var n,i=Object(O.lineString)([[this.startNode.getLongitudeDeg(),this.startNode.getLatitudeDeg()],[this.endNode.getLongitudeDeg(),this.endNode.getLatitudeDeg()]]);return{lat:(n=this.internalPrecision===I.CENTIMETER?K()(i,t,{units:"centimeters"}):K()(i,t,{units:"meters"})).geometry.coordinates[1],long:n.geometry.coordinates[0]}}},{key:"distanceToPoint",value:function(t,e){var n=Object(O.point)([e,t]),i=Object(O.lineString)([[this.startNode.getLongitudeDeg(),this.startNode.getLatitudeDeg()],[this.endNode.getLongitudeDeg(),this.endNode.getLatitudeDeg()]]);return this.internalPrecision===I.CENTIMETER?Math.round(x()(n,i,{units:"centimeters"})):Math.round(x()(n,i,{units:"meters"}))}},{key:"measureAlongLine",value:function(t,e){var n=Object(O.point)([e,t]),i=Object(O.lineString)([[this.startNode.getLongitudeDeg(),this.startNode.getLatitudeDeg()],[this.endNode.getLongitudeDeg(),this.endNode.getLatitudeDeg()]]),a=X()(i,n,{units:"meters"});return{lat:a.geometry.coordinates[1],long:a.geometry.coordinates[0]}}},{key:"getBearing",value:function(){if(void 0===this.bearing){var t,e=Object(O.point)([this.startNode.getLongitudeDeg(),this.startNode.getLatitudeDeg()]);if(this.getLength()<=j.bearDist*j.internalPrecision)t=Object(O.point)([this.endNode.getLongitudeDeg(),this.endNode.getLatitudeDeg()]);else{var n=this.getGeoCoordinateAlongLine(j.bearDist*j.internalPrecision);t=Object(O.point)([n.long,n.lat])}var i=B()(e,t);i=(i+360)%360,this.bearing=Math.round(i)}return this.bearing}},{key:"getReverseBearing",value:function(){if(void 0===this.reverseBearing){var t,e=Object(O.point)([this.endNode.getLongitudeDeg(),this.endNode.getLatitudeDeg()]);if(this.getLength()<=j.bearDist*j.internalPrecision)t=Object(O.point)([this.startNode.getLongitudeDeg(),this.startNode.getLatitudeDeg()]);else{var n=this.getGeoCoordinateAlongLine(this.getLength()-j.bearDist*j.internalPrecision);t=Object(O.point)([n.long,n.lat])}var i=B()(e,t);i=(i+360)%360,this.reverseBearing=Math.round(i)}return this.reverseBearing}}]),t}();function W(t,e){var n={},i={};return t.forEach(function(t){void 0!==t&&(n[t.getID()]=t)}),e.forEach(function(t){void 0!==t&&(i[t.getID()]=t)}),{nodes:n,lines:i}}var U={motorway:k.MULTIPLE_CARRIAGEWAY,trunk:k.MOTORWAY,primary:k.SINGLE_CARRIAGEWAY,secondary:k.SINGLE_CARRIAGEWAY,tertiary:k.SINGLE_CARRIAGEWAY,unclassified:k.SINGLE_CARRIAGEWAY,residential:k.SINGLE_CARRIAGEWAY,motorway_link:k.SLIPROAD,trunk_link:k.SLIPROAD,primary_link:k.SLIPROAD,secondary_link:k.SLIPROAD,tertiary_link:k.SLIPROAD,living_street:k.OTHER,service:k.OTHER,pedestrian:k.OTHER,track:k.OTHER,bus_guideway:k.OTHER,excape:k.OTHER,road:k.OTHER,footway:k.OTHER,bridleway:k.OTHER,steps:k.OTHER,path:k.OTHER,cycleway:k.OTHER,proposed:k.OTHER,construction:k.OTHER,bus_stop:k.OTHER,crossing:k.OTHER,elevator:k.OTHER,emergency_access_point:k.OTHER,give_way:k.OTHER,mini_roundabout:k.ROUNDABOUT,motorway_junction:k.SINGLE_CARRIAGEWAY,passing_place:k.OTHER,rest_area:k.OTHER,speed_camera:k.OTHER,street_lamp:k.OTHER,services:k.OTHER,stop:k.OTHER,traffic_signals:k.OTHER,turning_circle:k.OTHER},V={motorway:D.FRC_0,trunk:D.FRC_1,primary:D.FRC_2,secondary:D.FRC_3,tertiary:D.FRC_4,unclassified:D.FRC_6,residential:D.FRC_5,motorway_link:D.FRC_0,trunk_link:D.FRC_1,primary_link:D.FRC_2,secondary_link:D.FRC_3,tertiary_link:D.FRC_4},H=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"initMapDataBase",value:function(e,n,i,a){var r=t.getNodesLines(n,i,a);e.setData(r.lines,r.nodes)}},{key:"getNodesLines",value:function(e,n,i){var a={},r={},o={};for(var s in e)if(e.hasOwnProperty(s)){var g=new N(s,e[s]["@_lat"],e[s]["@_lon"]);o[g.getID()]=g}for(var h in n)if(n.hasOwnProperty(h))for(var l=0;l<n[h].nd.length-1;l++){var p=new G(h+"_"+n[h].nd[l]["@_ref"],o[n[h].nd[l]["@_ref"]],o[n[h].nd[l+1]["@_ref"]]);p.frc=t.getFRC(n[h]),p.fow=t.getFOW(n[h]),a[p.getID()]=p;var d=!1;if(Array.isArray(n[h].tag))for(var c=0,f=!1;!f&&c<n[h].tag.length;)"oneway"===n[h].tag[c]["@_k"]&&(f=!0,"yes"===n[h].tag[c]["@_v"]&&(d=!0)),c++;else"oneway"===n[h].tag["@_k"]&&"yes"===n[h].tag["@_v"]&&(d=!0);if(!d){var w=new G(h+"_"+n[h].nd[l]["@_ref"]+"_1",o[n[h].nd[l+1]["@_ref"]],o[n[h].nd[l]["@_ref"]]);w.frc=t.getFRC(n[h]),w.fow=t.getFOW(n[h]),a[w.getID()]=w}r[n[h].nd[l]["@_ref"]]=o[n[h].nd[l]["@_ref"]],r[n[h].nd[l+1]["@_ref"]]=o[n[h].nd[l+1]["@_ref"]]}return{nodes:r,lines:a}}},{key:"initMapDataBaseDeprecatedNoOneWay",value:function(e,n,i,a){var r=t.getNodesLinesDeprecatedNoOneWay(n,i,a);e.setData(r.lines,r.nodes)}},{key:"getNodesLinesDeprecatedNoOneWay",value:function(e,n,i){var a={},r={},o={};for(var s in e)if(e.hasOwnProperty(s)){var g=new N(s,e[s]["@_lat"],e[s]["@_lon"]);o[g.getID()]=g}for(var h in n)if(n.hasOwnProperty(h))for(var l=0;l<n[h].nd.length-1;l++){var p=new G(h+"_"+n[h].nd[l]["@_ref"],o[n[h].nd[l]["@_ref"]],o[n[h].nd[l+1]["@_ref"]]);p.frc=t.getFRC(n[h]),p.fow=t.getFOW(n[h]),a[p.getID()]=p;var d=new G(h+"_"+n[h].nd[l]["@_ref"]+"_1",o[n[h].nd[l+1]["@_ref"]],o[n[h].nd[l]["@_ref"]]);d.frc=t.getFRC(n[h]),d.fow=t.getFOW(n[h]),a[d.getID()]=d,r[n[h].nd[l]["@_ref"]]=o[n[h].nd[l]["@_ref"]],r[n[h].nd[l+1]["@_ref"]]=o[n[h].nd[l+1]["@_ref"]]}return{nodes:r,lines:a}}},{key:"getFRC",value:function(e){var n=t._getTagsValues(e,"highway");return void 0!==n.highway&&void 0!==V[n.highway]?V[n.highway]:D.FRC_7}},{key:"getFOW",value:function(e){var n=t._getTagsValues(e,"highway","junction","area");return void 0!==n.highway&&"pedestrian"===n.highway&&void 0!==n.area&&"yes"===n.area?k.TRAFFICSQUARE:void 0!==n.junction&&"roundabout"===n.junction?k.ROUNDABOUT:void 0!==n.highway&&void 0!==U[n.highway]?U[n.highway]:k.UNDEFINED}},{key:"_getTagsValues",value:function(t,e){var n={};if(Array.isArray(t.tag))for(var i=0;i<t.tag.length;)e.includes(t.tag[i]["@_k"])&&(void 0!==n[t.tag[i]["@_k"]]&&console.warn("Multiple '",t.tag[i]["@_k"],"' tags found for way:",t),n[t.tag[i]["@_k"]]=t.tag[i]["@_v"]),i++;else e.includes(t.tag["@_k"])&&(n[t.tag["@_k"]]=t.tag["@_v"]);return n}}]),t}(),z=n(208),Y=n.n(z),Q=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"shortestPath",value:function(t,e,n){if(t.getID()===e.getID())return{lines:[],length:0};var i={},a={},r=new Y.a(function(t,e){return t[0]<e[0]?-1:e[0]<t[0]?1:0});r.push([0,t]),i[t.getID()]=0;for(var o=function(){var t=r.pop()[1];t.getOutgoingLines().forEach(function(o){var s=i[t.getID()]+o.getLength();if(s<0)throw Error("negative line length found for line: "+o.getID());(void 0===n||void 0===n.lfrcnp||void 0===n.lfrcnpDiff||void 0===o.getFRC()?1:o.getFRC()>=D.FRC_0&&o.getFRC()<=D.FRC_7&&o.getFRC()<=n.lfrcnpDiff+n.lfrcnp)&&(void 0===i[o.getEndNode().getID()]||i[o.getEndNode().getID()]>s)&&(i[o.getEndNode().getID()]=s,a[o.getEndNode().getID()]=o,(void 0===i[e.getID()]||s<i[e.getID()])&&(void 0!==n&&void 0!==n.maxDist?s<=n.maxDist&&r.push([s,o.getEndNode()]):r.push([s,o.getEndNode()])))})};r.size()>0;)o();for(var s=[],g=e;g.getID()!==t.getID()&&void 0!==a[g.getID()];){var h=a[g.getID()];s.unshift(h),g=h.getStartNode()}if(0===i[e.getID()])throw Error("Something went wrong during Shortest Path calculation, probably because lines exist with 0 or negative lengths");return{lines:s,length:i[e.getID()]}}}]),t}(),q=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"decode",value:function(e,n,i,a,r){var o=t.findCandidatesOrProjections(e,n,r),s=t.findCandidateLines(n,o,r),g=t.determineShortestPaths(s,n,r),h={posOffset:Math.round(i*j.internalPrecision),negOffset:Math.round(a*j.internalPrecision)};return t.trimAccordingToOffsets(g,h,r),{lines:g.shortestPath,posOffset:Math.round(h.posOffset/j.internalPrecision),negOffset:Math.round(h.negOffset/j.internalPrecision)}}},{key:"findCandidatesOrProjections",value:function(t,e,n){for(var i=[],a=function(a){i[a]=[];var r=t.findNodesCloseByCoordinate(e[a].lat,e[a].long,n.dist*j.internalPrecision);if(0!==r.length&&Array.prototype.push.apply(i[a],r),0===r.length||n.alwaysUseProjections){var o=t.findLinesCloseByCoordinate(e[a].lat,e[a].long,n.dist*j.internalPrecision);if(0===o.length&&0===r.length)throw Error("No candidate nodes or projected nodes can be found.");var s=[];o.forEach(function(t){var n=t.line.measureAlongLine(e[a].lat,e[a].long);n.lat===t.line.getStartNode().getLatitudeDeg()||n.lat===t.line.getEndNode().getLatitudeDeg()||n.long===t.line.getStartNode().getLongitudeDeg()||n.long===t.line.getEndNode().getLongitudeDeg()||(n.line=t.line,n.dist=t.dist,s.push(n))}),Array.prototype.push.apply(i[a],s)}},r=0;r<e.length;r++)a(r);return i}},{key:"findCandidateLines",value:function(e,n,i){for(var a=[],r=function(r){if(a[r]=[],n[r].forEach(function(n){if(void 0===n.node){var o,s=r===e.length-1?Math.abs(n.line.getReverseBearing()-e[e.length-1].bearing):Math.abs(n.line.getBearing()-e[r].bearing);if(i.useFrcFow&&void 0!==n.line.getFRC()&&n.line.getFRC()>=D.FRC_0&&n.line.getFRC()<=D.FRC_7&&void 0!==e[r].frc&&(o=Math.abs(n.line.getFRC()-e[r].frc)),s<=i.bearDiff&&(void 0===o||o<=i.frcDiff)){var g={line:n.line,bearDiff:s,frcDiff:o,lrpIndex:r,projected:!0,rating:void 0,distToProjection:n.line.getStartNode().getDistance(n.lat,n.long)};g.rating=t.rateCandidateLine(g,n.dist,e[g.lrpIndex],i),a[r].push(g)}}else{(r===e.length-1?n.node.getIncomingLines():n.node.getOutgoingLines()).forEach(function(o){var s,g=r===e.length-1?Math.abs(o.getReverseBearing()-e[e.length-1].bearing):Math.abs(o.getBearing()-e[r].bearing);if(i.useFrcFow&&void 0!==o.getFRC()&&o.getFRC()>=D.FRC_0&&o.getFRC()<=D.FRC_7&&void 0!==e[r].frc&&(s=Math.abs(o.getFRC()-e[r].frc)),g<=i.bearDiff&&(void 0===s||s<=i.frcDiff)){var h={line:o,bearDiff:g,frcDiff:s,lrpIndex:r,projected:!1,rating:void 0,candidateNodeID:n.node.getID()};h.rating=t.rateCandidateLine(h,n.dist,e[h.lrpIndex],i),a[r].push(h)}})}}),0===a[r].length)throw Error("No candidate lines found for LRP");t.sortLines(a[r])},o=0;o<e.length;o++)r(o);return a}},{key:"sortLines",value:function(t){t.sort(function(t,e){return t.rating-e.rating})}},{key:"rateCandidateLine",value:function(t,e,n,i){var a=0,r=0;(a+=e/(i.dist*j.internalPrecision)*i.distMultiplier,r+=i.distMultiplier,i.useFrcFow&&void 0!==t.frcDiff)&&(a+=t.frcDiff/i.frcDiff*i.frcMultiplier,r+=i.frcMultiplier);i.useFrcFow&&void 0!==t.line.getFOW()&&t.line.getFOW()>=k.UNDEFINED&&t.line.getFOW()<=k.OTHER&&void 0!==n.fow&&n.fow>=k.UNDEFINED&&n.fow<=k.OTHER&&(a+=(t.line.getFOW()===n.fow?0:1)*i.fowMultiplier,r+=i.fowMultiplier);return(a+=t.bearDiff/i.bearDiff*i.bearMultiplier)/(r+=i.bearMultiplier)}},{key:"findShortestPath",value:function(t,e,n,i,a){return t.getID()===e.getID()?{lines:[],length:0}:Q.shortestPath(t.getEndNode(),e.getStartNode(),{lfrcnp:i.useFrcFow?n:void 0,lfrcnpDiff:i.useFrcFow?i.lfrcnpDiff:void 0,maxDist:void 0!==a?i.distanceToNextDiff*j.internalPrecision+a:void 0})}},{key:"calcSPforLRP",value:function(e,n,i,a,r,o,s){if(i>=o.length-1)throw Error("SP calculation should not happen for the last LRP");var g=void 0;void 0===n[i]&&(n[i]=0),void 0===n[i+1]&&(n[i+1]=0);for(var h=!1,l=n[i+1],p=void 0,d=0;void 0===g&&a.count<s.maxSPSearchRetries;){if(g=t.findShortestPath(e[i][n[i]].line,e[i+1][n[i+1]].line,o[i].lfrcnp,s,o[i].distanceToNext*j.internalPrecision),p=!1===e[i+1][n[i+1]].projected&&!1===e[i][n[i]].projected&&e[i+1][n[i+1]].candidateNodeID===e[i][n[i]].candidateNodeID?0:e[i][n[i]].line.getLength(),!0===e[i][n[i]].projected&&(d+=-1*e[i][n[i]].distToProjection),!0===e[i+1][n[i+1]].projected&&(d+=1*e[i+1][n[i+1]].distToProjection,e[i+1][n[i+1]].line.getID()===e[i][n[i]].line.getID()&&(p-=e[i+1][n[i+1]].line.getLength())),i===o.length-2&&e[i+1][n[i+1]].line.getID()!==e[i][n[i]].line.getID()&&!1===e[i+1][n[i+1]].projected&&(p+=e[i+1][n[i+1]].line.getLength()),void 0!==g.length&&(p+=g.length),void 0===g||void 0===g.length||Math.abs(p+d-o[i].distanceToNext*j.internalPrecision)>=s.distanceToNextDiff*j.internalPrecision)if(n[i+1]<e[i+1].length-1)n[i+1]++,g=void 0;else{if(!(n[i]<e[i].length-1))throw Error("No shortest path could be found between the given LRPs with indexes "+i+" and "+(i+1)+" You either tried to decode a loop that isn't present in the current map or you tried decoding a line between two points that are to close together and decoded as a single node");n[i]++,n[i+1]=l,h=!0,g=void 0}a.count++}if(void 0===g||void 0===g.length)throw Error("could not construct a shortest path in the given amount of tries between the given LRPs with indexes "+i+" and "+(i+1));r[i]=g,h&&i-1>=0&&(r[i-1]=t.calcSPforLRP(e,n,i-1,a,r,o,s))}},{key:"determineShortestPaths",value:function(e,n,i){for(var a=[],r=[],o={count:0},s=0;s<e.length-1;s++)t.calcSPforLRP(e,r,s,o,a,n,i);return t.concatSP(a,e,r)}},{key:"concatSP",value:function(t,e,n){if(t.length!==e.length-1)throw Error("length of shortestPaths !== length of candidateLines-1");for(var i=[],a=0;a<t.length;a++){0!==i.length&&e[a][n[a]].line.getID()===i[i.length-1].getID()||i.push(e[a][n[a]].line);for(var r=0;r<t[a].lines.length;r++)i.push(t[a].lines[r])}return 0!==i.length&&e[e.length-1][n[n.length-1]].line.getID()===i[i.length-1].getID()||i.push(e[e.length-1][n[n.length-1]].line),{shortestPath:i,posProjDist:void 0===e[0][n[0]].distToProjection?0:e[0][n[0]].distToProjection,negProjDist:void 0===e[e.length-1][n[n.length-1]].distToProjection?0:e[e.length-1][n[n.length-1]].line.getLength()-e[e.length-1][n[n.length-1]].distToProjection}}},{key:"trimAccordingToOffsets",value:function(t,e){if(e.posOffset+=t.posProjDist,e.negOffset+=t.negProjDist,0===t.shortestPath.length)throw Error("can't trim empty path");for(var n=t.shortestPath[0],i=t.shortestPath[t.shortestPath.length-1],a=e.posOffset>0&&void 0!==n&&n.getLength()<=e.posOffset,r=e.negOffset>0&&void 0!==i&&i.getLength()<=e.negOffset;t.shortestPath.length>1&&(a||r);){if(a&&r)e.posOffset-n.getLength()>=e.negOffset-i.getLength()?(e.posOffset-=n.getLength(),t.shortestPath.shift(),n=t.shortestPath[0]):(e.negOffset-=i.getLength(),t.shortestPath.pop(),i=t.shortestPath[t.shortestPath.length-1]);else a?(e.posOffset-=n.getLength(),t.shortestPath.shift(),n=t.shortestPath[0]):r&&(e.negOffset-=i.getLength(),t.shortestPath.pop(),i=t.shortestPath[t.shortestPath.length-1]);a=e.posOffset>0&&void 0!==n&&n.getLength()<=e.posOffset,r=e.negOffset>0&&void 0!==i&&i.getLength()<=e.negOffset}if(0===t.shortestPath.length)throw Error("The remaining shortest path after trimming according to offsets is empty.")}}]),t}(),J=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"decode",value:function(t,e,n){var i={},a=0;for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);if(void 0===i.maxDecodeRetries&&(i.maxDecodeRetries=0),t.type===M.LINE_LOCATION)for(;a<=i.maxDecodeRetries;)try{return q.decode(e,t.LRPs,t.posOffset,t.negOffset,i)}catch(s){if(i.alwaysUseProjections){if(!(i.dist&&i.distMultiplierForRetry&&i.distanceToNextDiff))throw s;if(++a>i.maxDecodeRetries)throw s;var o=i.dist;i.dist=i.dist*i.distMultiplierForRetry,i.distanceToNextDiff=i.distanceToNextDiff+2*(i.dist-o),i.alwaysUseProjections=!1}else i.alwaysUseProjections=!0}}}]),t}(),$=function t(e,n,i,a,r,o,g,h,l){Object(s.a)(this,t),this.bearing=Math.round(e),this.distanceToNext=Math.round(n/j.internalPrecision),this.frc=i,this.fow=a,this.lfrcnp=r,this.isLast=o,this.lat=Number(Math.round(g+"e5")+"e-5"),this.long=Number(Math.round(h+"e5")+"e-5"),this.seqNr=l},tt=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"lrpLinesToLRPs",value:function(t,e){if(t.length<2)throw Error("not enough LRP lines");for(var n=[],i=0;i<t.length;i++){var a={},r=!1,o=t[i].getFRC(),s=t[i].getFOW(),g=void 0,h=void 0,l=void 0,p=void 0,d=void 0;i<t.length-1?(a=this.calcProperties(e[i].lines,t[i+1].getStartNode()),g=t[i].getStartNode().getLatitudeDeg(),h=t[i].getStartNode().getLongitudeDeg(),p=t[i].getBearing(),d=a.lfrcnp,l=t[i].getLength()+a.pathLength,i===t.length-2&&t[t.length-2].getID()!==t[t.length-1].getID()&&(l+=t[t.length-1].getLength())):(r=!0,g=t[i].getEndNode().getLatitudeDeg(),h=t[i].getEndNode().getLongitudeDeg(),p=t[i].getReverseBearing(),d=D.FRC_7,l=0);var c=new $(p,l,o,s,d,r,g,h,i+1);n.push(c)}return n}},{key:"calcProperties",value:function(t,e){for(var n=0,i=0,a=D.FRC_0,r=!1;n<t.length&&t[n].getStartNode()!==e;)i+=t[n].getLength(),void 0!==t[n].getFRC()&&t[n].getFRC()>a&&(a=t[n].getFRC(),r=!0),n++;return{pathLength:i,lfrcnp:r?a:D.FRC_7}}}]),t}(),et=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"encode",value:function(e,n,i,a){var r=n.slice(),o=[],s=[],g={posOffset:Math.round(i*j.internalPrecision),negOffset:Math.round(a*j.internalPrecision)};t.checkValidityAndAdjustOffsets(r,g);this.adjustToValidStartEnd(e,r,g);o.push(r[0]);for(var h,l,p=0,d=0;d<r.length;d++)p+=r[d].getLength();1===r.length?(h={lines:[],length:0},l={fullyCovered:!0,lrpIndexInSP:1,lrpIndexInLoc:1}):(h=Q.shortestPath(r[0].getEndNode(),r[r.length-1].getStartNode(),{maxDist:p}),l=this.checkShortestPathCoverage(1,r,h.lines,r.length-1)),s.push(h),t.addLRPsUntilFullyCovered(l,r,o,s,h);var c=this.concatenateAndValidateShortestPaths(o,s,g);if(!(l=this.checkShortestPathCoverage(0,r,c.shortestPath,r.length)).fullyCovered)throw Error("something went wrong with determining the concatenated shortest path");for(;!c.isValid;){if(c.wrongPosOffset&&(this.removeLRPatFront(o,s,r,g,c.distanceBetweenFirstTwo),c=this.concatenateAndValidateShortestPaths(o,s,g)),c.wrongNegOffset&&(this.removeLRPatEnd(o,s,r,g,c.distanceBetweenLastTwo),c=this.concatenateAndValidateShortestPaths(o,s,g)),c.wrongIntermediateDistance)throw this.addIntermediateLRPs(o,s,r),Error("not yet supported");if(!(l=this.checkShortestPathCoverage(0,r,c.shortestPath,r.length)).fullyCovered)throw Error("something went wrong while making the concatenated shortest path valid")}var f=tt.lrpLinesToLRPs(o,s);return{type:M.LINE_LOCATION,LRPs:f,posOffset:Math.round(g.posOffset/j.internalPrecision),negOffset:Math.round(g.negOffset/j.internalPrecision)}}},{key:"checkValidityAndAdjustOffsets",value:function(t,e){if(void 0!==t&&t.length>0){for(var n=t[0].getLength(),i=t[0].getEndNode(),a=1;a<t.length&&void 0!==t[a]&&t[a].getStartNode().getID()===i.getID();)i=t[a].getEndNode(),n+=t[a].getLength(),a++;if(a!==t.length)throw Error("line isn't a connected path");if(e.posOffset+e.negOffset>=n)throw Error("offsets longer than path: path="+n+" posOffset="+e.posOffset+" negOffset="+e.negOffset);for(;t.length>0&&e.posOffset>=t[0].getLength();)console.log("first line should be omitted"),e.posOffset-=t[0].getLength(),t.shift();for(;t.length>0&&e.negOffset>=t[t.length-1].getLength();)console.log("last line should be omitted"),e.negOffset-=t[t.length-1].getLength(),t.pop()}}},{key:"adjustToValidStartEnd",value:function(e,n,i){var a={front:0,back:0},r={length:0};if(n.forEach(function(t){r.length+=t.getLength()}),!e.hasTurnRestrictions()&&!e.hasTurnRestrictionOnPath(n)&&void 0!==n[0]&&void 0!==n[n.length-1]){for(var o=n[0].getID();t.nodeIsInValid(n[0].getStartNode())&&!(a.front>0&&n[0].getID()===o);)1===n[0].getStartNode().getIncomingLines().length?(this.expand(n[0].getStartNode().getIncomingLines()[0],n,r,i,!0),a.front+=1):2===n[0].getStartNode().getIncomingLines().length?n[0].getStartNode().getIncomingLines()[0].getStartNode().getID()===n[0].getEndNode().getID()?(this.expand(n[0].getStartNode().getIncomingLines()[1],n,r,i,!0),a.front+=1):n[0].getStartNode().getIncomingLines()[1].getStartNode().getID()===n[0].getEndNode().getID()?(this.expand(n[0].getStartNode().getIncomingLines()[0],n,r,i,!0),a.front+=1):console.log("something went wrong at determining the start node expansion node"):console.log("something went wrong with determining if expansion is needed");a.front>0&&n[0].getID()===o&&t.undoExpansion(n,o,a,i,!0);for(var s=n[n.length-1].getID();t.nodeIsInValid(n[n.length-1].getEndNode())&&!(a.back>0&&n[n.length-1].getID()===s);)1===n[n.length-1].getEndNode().getOutgoingLines().length?(this.expand(n[n.length-1].getEndNode().getOutgoingLines()[0],n,r,i,!1),a.back+=1):2===n[n.length-1].getEndNode().getOutgoingLines().length?n[n.length-1].getEndNode().getOutgoingLines()[0].getEndNode().getID()===n[n.length-1].getStartNode().getID()?(this.expand(n[n.length-1].getEndNode().getOutgoingLines()[1],n,r,i,!1),a.back+=1):n[n.length-1].getEndNode().getOutgoingLines()[1].getEndNode().getID()===n[n.length-1].getStartNode().getID()?(this.expand(n[n.length-1].getEndNode().getOutgoingLines()[0],n,r,i,!1),a.back+=1):console.log("something went wrong at determining the end node expansion node"):console.log("something went wrong with determining if expansion is needed");a.back>0&&n[n.length-1].getID()===s&&t.undoExpansion(n,s,a,i,!1)}return a}},{key:"nodeIsInValid",value:function(t){var e=1===t.getIncomingLines().length&&1===t.getOutgoingLines().length,n=2===t.getIncomingLines().length&&2===t.getOutgoingLines().length,i=!1;if(e)i=t.getIncomingLines()[0].getStartNode().getID()!==t.getOutgoingLines()[0].getEndNode().getID();else if(n){var a=t.getIncomingLines()[0].getStartNode().getID()===t.getOutgoingLines()[0].getEndNode().getID(),r=t.getIncomingLines()[1].getStartNode().getID()===t.getOutgoingLines()[0].getEndNode().getID(),o=t.getIncomingLines()[0].getStartNode().getID()===t.getOutgoingLines()[1].getEndNode().getID(),s=t.getIncomingLines()[1].getStartNode().getID()===t.getOutgoingLines()[1].getEndNode().getID();i=a&&s||o&&r}return i}},{key:"expand",value:function(t,e,n,i,a){n.length+t.getLength()<15e3*j.internalPrecision?(n.length+=t.getLength(),a?(i.posOffset+=t.getLength(),e.unshift(t)):(i.negOffset+=t.getLength(),e.push(t))):console.log("start node expansion aborted because path length exceeding 15000m")}},{key:"undoExpansion",value:function(t,e,n,i,a){if(a){if(t[0].getID()!==e)throw Error("undoExpansion at start node called but was not needed");for(i.posOffset-=t[0].getLength(),n.front--,t.shift();t[0].getID()!==e;)i.posOffset-=t[0].getLength(),n.front--,t.shift();if(n.front<0)throw Error("Something went wrong during reversing the start node expansion.")}else{if(t[t.length-1].getID()!==e)throw Error("undoExpansion at end node called but was not needed");for(i.negOffset-=t[t.length-1].getLength(),n.back--,t.pop();t[t.length-1].getID()!==e;)i.negOffset-=t[t.length-1].getLength(),n.back--,t.pop();if(n.back<0)throw Error("Something went wrong during reversing the end node expansion.")}}},{key:"checkShortestPathCoverage",value:function(t,e,n,i){if(void 0===t||void 0===e||void 0===n||void 0===i)throw Error("One of the parameters is undefined.");if(i>e.length)throw Error("lEndIndex can't be greater than lines.length");if(t>i)throw Error("lStartIndex can't be greater than lEndIndex");var a=0,r=t;if(t===i-1&&0===n.length)return{fullyCovered:!0,lrpIndexInSP:a,lrpIndexInLoc:r+1};for(;r<i&&a<n.length&&e[r].getID()===n[a].getID();)a++,r++;return r===i&&a+t===r?{fullyCovered:!0,lrpIndexInSP:a,lrpIndexInLoc:r}:{fullyCovered:!1,lrpIndexInSP:a,lrpIndexInLoc:r}}},{key:"addLRPsUntilFullyCovered",value:function(e,n,i,a,r){for(var o=e,s=r;!o.fullyCovered;){for(var g=0,h=o.lrpIndexInLoc+1;h<n.length-1;h++)g+=n[h].getLength();if(this.nodeIsInValid(n[o.lrpIndexInLoc].getStartNode())){if(0!==o.lrpIndexInSP)throw Error("Something went wrong during the covering of the location with shortest paths. The location contains a part of a loop with invalid nodes but the shortest path diverges on this part which would imply the existence of a valid node on this part, which is not possible.");a.pop(),o=t.findInvalidNodeOnLinesAfterACertainLength(n,o.lrpIndexInLoc,s.length,i,a,g)}else i.push(n[o.lrpIndexInLoc]),s=Q.shortestPath(n[o.lrpIndexInLoc].getEndNode(),n[n.length-1].getStartNode(),{maxDist:g}),a.push(s),o=this.checkShortestPathCoverage(o.lrpIndexInLoc+1,n,s.lines,n.length-1)}i.push(n[n.length-1])}},{key:"findInvalidNodeOnLinesAfterACertainLength",value:function(e,n,i,a,r,o){var s=t.findNextValidNode(e,n),g=void 0===s.nextValidStartNodeIndexInLoc?e.length-1:s.nextValidStartNodeIndexInLoc;if(g===e.length-1){for(var h=e[n].getLength(),l=[e[n]],p=n+1,d=!1;p<g&&!d;){var c=s.restLengthOfLines-h;h+i>c&&h-i<c&&(a.push(e[p]),r.push({length:h,lines:l}),d=!0,l=[],h=0),d||(h+=e[p].getLength(),l.push(e[p])),p++}if(d){for(;p<g;)h+=e[p].getLength(),l.push(e[p]),p++;if(r.push({length:h,lines:l}),g===e.length-1)return{fullyCovered:!0,lrpIndexInSP:l.length-1,lrpIndexInLoc:p};var f=Q.shortestPath(e[g].getEndNode(),e[e.length-1].getStartNode(),{maxDist:o});return r.push(f),this.checkShortestPathCoverage(g,e,f.lines,e.length-1)}a.push(e[n+1]),r.push({length:e[n].getLength(),lines:[e[n]]});var w=Q.shortestPath(e[n+1].getEndNode(),e[e.length-1].getStartNode(),{maxDist:o});return r.push(w),this.checkShortestPathCoverage(n+1,e,w.lines,e.length-1)}var u=s.restLengthOfLines-s.lengthToIndex;if(s.lengthToIndex-i<u){r.push(s.spToValidNode),a.push(e[g]);var m=Q.shortestPath(e[g].getEndNode(),e[e.length-1].getStartNode(),{maxDist:o});return r.push(m),this.checkShortestPathCoverage(g,e,m.lines,e.length-1)}}},{key:"findNextValidNode",value:function(e,n){for(var i=void 0,a=e[n].getLength(),r=void 0,o=[e[n]],s={},g=n+1;g<e.length;)void 0!==i||t.nodeIsInValid(e[g].getStartNode())||(i=g,s={lines:o,length:r=a}),o.push(e[g]),a+=e[g].getLength(),g++;return{nextValidStartNodeIndexInLoc:i,lengthToIndex:r,restLengthOfLines:a,spToValidNode:s}}},{key:"concatenateAndValidateShortestPaths",value:function(t,e,n){if(void 0===t||void 0===e||void 0===n)throw Error("Parameters can not be undefined");var i=!0,a=t[0].getLength(),r=t[t.length-1].getLength(),o=!1,s=!1,g=!1;if(t.length-1===e.length){var h=[];if(2===t.length&&t[0].getID()===t[1].getID())h.push(t[0]);else{for(var l=0;l<e.length;l++){h.push(t[l]),l===e.length-1&&(r+=t[l].getLength());for(var p=0,d=t[l].getLength();void 0!==e[l].lines&&void 0!==e[l].lines[p]&&e[l].lines[p].getStartNode().getID()!==t[l+1].getStartNode().getID();)h.push(e[l].lines[p]),d+=e[l].lines[p].getLength(),0===l&&(a+=e[l].lines[p].getLength()),l===e.length-1&&(r+=e[l].lines[p].getLength()),p++;d>=15e3*j.internalPrecision&&(i=!1,g=!0)}h.push(t[t.length-1]),2===t.length&&(a+=t[t.length-1].getLength())}return(a>=15e3*j.internalPrecision||r>=15e3*j.internalPrecision)&&(i=!1,g=!0),n.posOffset>=a?(i=!1,o=!0):n.negOffset>=r&&(i=!1,s=!0),{shortestPath:h,isValid:i,wrongPosOffset:o,wrongNegOffset:s,wrongIntermediateDistance:g,distanceBetweenFirstTwo:a,distanceBetweenLastTwo:r}}throw Error("the amount of shortest paths is not one less than the amount of lrp nodes")}},{key:"removeLRPatFront",value:function(t,e,n,i,a){if(!(t.length>0&&i.posOffset>=a))throw Error("unnecessary removing of LRP at front");for(i.posOffset-=a,t.shift(),e.shift();n[0].getID()!==t[0].getID();)n.shift()}},{key:"removeLRPatEnd",value:function(t,e,n,i,a){if(!(t.length>0&&i.negOffset>=a))throw Error("unnecessary removing of LRP at end");for(i.negOffset-=a,t.pop(),e.pop();n[n.length-1].getID()!==t[t.length-1].getID();)n.pop()}},{key:"addIntermediateLRPs",value:function(t,e,n){console.warn("todo addIntermediateLRPs")}}]),t}(),nt=n(84),it=n.n(nt),at=function(){function t(){Object(s.a)(this,t),this.tree=it()()}return Object(g.a)(t,[{key:"addData",value:function(t){this.tree.load(t)}},{key:"findCloseBy",value:function(t,e,n){var i=this.toDegrees(n/6371e3),a=this.toDegrees(n/(6371e3*Math.cos(this.toRadians(t)))),r=t+i,o=t-i,s=e+a,g=e-a,h=Object(O.polygon)([[[g,o],[g,r],[s,r],[s,o],[g,o]]]);return this.tree.search(h).features}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"toDegrees",value:function(t){return t/Math.PI*180}}]),t}(),rt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(h.a)(this,Object(l.a)(e).call(this))).addNodes(t),n}return Object(p.a)(e,t),Object(g.a)(e,[{key:"addNodes",value:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){if(isNaN(t[n].getLongitudeDeg())||isNaN(t[n].getLatitudeDeg()))throw t[n];var i=Object(O.point)([t[n].getLongitudeDeg(),t[n].getLatitudeDeg()],{id:n});e.push(i)}this.tree.load(e)}}]),e}(at),ot=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(h.a)(this,Object(l.a)(e).call(this))).addLines(t),n}return Object(p.a)(e,t),Object(g.a)(e,[{key:"addLines",value:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){if(void 0===t[n].getStartNode()||void 0===t[n].getEndNode())throw t[n];e.push(Object(O.lineString)([[t[n].getStartNode().getLongitudeDeg(),t[n].getStartNode().getLatitudeDeg()],[t[n].getEndNode().getLongitudeDeg(),t[n].getEndNode().getLatitudeDeg()]],{id:n}))}this.tree.load(e)}}]),e}(at),st=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:void 0,top:void 0,right:void 0,bottom:void 0},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(s.a)(this,t),this.turnResctrictions=a,this.mapBoundingBox=i,this.lines=e,this.nodes=n,this.nodeSearchTree=new rt(n),this.lineSearchTree=new ot(e),this.internalPrecision=j.internalPrecision}return Object(g.a)(t,[{key:"setData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:void 0,top:void 0,right:void 0,bottom:void 0},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.turnResctrictions=i,this.mapBoundingBox=n,this.lines=t,this.nodes=e,this.nodeSearchTree=new rt(e),this.lineSearchTree=new ot(t)}},{key:"hasTurnRestrictions",value:function(){return this.turnResctrictions}},{key:"getLine",value:function(t){return this.lines[t]}},{key:"getNode",value:function(t){return this.nodes[t]}},{key:"findNodesCloseByCoordinate",value:function(t,e,n){var i=this,a=[],r=Math.round(n/this.internalPrecision);return this.nodeSearchTree.findCloseBy(t,e,r).forEach(function(r){var o=i.nodes[r.properties.id].getDistance(t,e);o<=n&&a.push({node:i.nodes[r.properties.id],dist:o})}),a}},{key:"findLinesCloseByCoordinate",value:function(t,e,n){var i=this,a=[],r=Math.round(n/this.internalPrecision);return this.lineSearchTree.findCloseBy(t,e,r).forEach(function(r){var o=i.lines[r.properties.id].distanceToPoint(t,e);o<=n&&a.push({line:i.lines[r.properties.id],dist:o})}),a}},{key:"hasTurnRestrictionOnPath",value:function(t){if(!this.turnResctrictions)return this.turnResctrictions;for(var e=0;e<t.length&&void 0!==t[e].getTurnRestriction();)e++;return e===t.length}},{key:"getAllNodes",value:function(){return this.nodes}},{key:"getAllLines",value:function(){return this.lines}},{key:"getMapBoundingBox",value:function(){return this.mapBoundingBox}},{key:"getNumberOfNodes",value:function(){return this.numberOfNodes}},{key:"getNumberOfLines",value:function(){return this.numberOfLines}},{key:"addData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],{}),i={};for(var a in e)e.hasOwnProperty(a)&&void 0===this.nodes[a]&&(this.nodes[a]=e[a],n[a]=e[a]);for(var r in t)t.hasOwnProperty(r)&&void 0===this.lines[r]&&(t[r].startNode=this.nodes[t[r].getStartNode().getID()],void 0===n[t[r].getStartNode().getID()]&&this.nodes[t[r].getStartNode().getID()].outgoingLines.push(t[r]),t[r].endNode=this.nodes[t[r].getEndNode().getID()],void 0===n[t[r].getEndNode().getID()]&&this.nodes[t[r].getEndNode().getID()].incomingLines.push(t[r]),this.lines[t[r].getID()]=t[r],i[r]=t[r]);this.nodeSearchTree.addNodes(n),this.lineSearchTree.addLines(i)}}]),t}(),gt=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"initMapDataBase",value:function(e,n,i,a){var r=t.getNodesLines(n,i,a);e.setData(r.lines,r.nodes)}},{key:"getNodesLines",value:function(e,n,i){var a={},r={},o={},s={};for(var g in e)if(e.hasOwnProperty(g)){var h=new N(g,e[g].lat,e[g].long);o[h.getID()]=h;for(var l=0;l<e[g].ref.length;l++)s[e[g].ref[l]]=e[g].id}for(var p in n)if(n.hasOwnProperty(p))for(var d=0;d<n[p].nodes.length-1;d++){var c=new G(p+"_"+s[n[p].nodes[d]],o[s[n[p].nodes[d]]],o[s[n[p].nodes[d+1]]]);if(c.frc=t.getFRC(n[p]),c.fow=t.getFOW(n[p]),a[c.getID()]=c,void 0===n[p].oneway||"osm:no"===n[p].oneway){var f=new G(p+"_"+s[n[p].nodes[d]]+"_1",o[s[n[p].nodes[d+1]]],o[s[n[p].nodes[d]]]);f.frc=t.getFRC(n[p]),f.fow=t.getFOW(n[p]),a[f.getID()]=f}r[s[n[p].nodes[d]]]=o[s[n[p].nodes[d]]],r[s[n[p].nodes[d+1]]]=o[s[n[p].nodes[d+1]]]}return{nodes:r,lines:a}}},{key:"getFRC",value:function(t){return void 0!==t.highway&&void 0!==V[t.highway.slice(4)]?V[t.highway.slice(37).toLowerCase()]:D.FRC_7}},{key:"getFOW",value:function(t){return void 0!==t.highway&&"https://w3id.org/openstreetmap/terms#Pedestrian"===t.highway&&void 0!==t.area&&"yes"===t.area?k.TRAFFICSQUARE:void 0!==t.junction&&"roundabout"===t.junction?k.ROUNDABOUT:void 0!==t.highway&&void 0!==U[t.highway.slice(37).toLowerCase()]?U[t.highway.slice(37).toLowerCase()]:k.UNDEFINED}}]),t}(),ht=n(64),lt=n.n(ht),pt=n(65),dt=n.n(pt),ct="https://tiles.openplanner.team/planet/";function ft(){return new Promise(function(t,e){lt.a.get("http://portaal-stadantwerpen.opendata.arcgis.com/datasets/6bad868c084a43ef8031cfe1b96956b2_297.geojson ").then(function(e){t(e.data.features)}).catch(function(t){e(t)})})}function wt(t,e,n){return new Promise(function(i){new dt.a({headers:{accept:"application/ld+json"}}).get(ct+t+"/"+e+"/"+n).then(function(t){i(t)})})}var ut={hoofdweg:D.FRC_0,"primaire weg I":D.FRC_1,"primaire weg II":D.FRC_2,"primaire weg II type 1":D.FRC_2,"primaire weg II type 2":D.FRC_3,"primaire weg II type 3":D.FRC_3,"primaire weg II type 4":D.FRC_0,"secundaire weg":D.FRC_4,"secundaire weg type 1":D.FRC_4,"secundaire weg type 2":D.FRC_5,"secundaire weg type 3":D.FRC_5,"secundaire weg type 4":D.FRC_5,"lokale weg":D.FRC_6,"lokale weg type 1":D.FRC_6,"lokale weg type 2":D.FRC_6,"lokale weg type 3":D.FRC_6,"niet gekend":D.FRC_7,"niet van toepassing":D.FRC_7},mt={autosnelweg:k.MOTORWAY,"weg met gescheiden rijbanen die geen autosnelweg is":k.MOTORWAY,"weg bestaande uit \xe9\xe9n rijbaan":k.SINGLE_CARRIAGEWAY,rotonde:k.ROUNDABOUT,"speciale verkeerssituatie":k.OTHER,verkeersplein:k.TRAFFICSQUARE,"op- of afrit, behorende tot een nietgelijkgrondse verbinding":k.SLIPROAD,"op- of afrit, behorende tot een gelijkgrondse verbinding":k.SLIPROAD,parallelweg:k.SLIPROAD,ventweg:k.SINGLE_CARRIAGEWAY,"in- of uitrit van een parking":k.SLIPROAD,"in- of uitrit van een dienst":k.SLIPROAD,voetgangerszone:k.OTHER,"wandel- of fietsweg, niet toegankelijk voor andere voertuigen":k.OTHER,"tramweg, niet toegankelijk voor andere voertuigen":k.OTHER,dienstweg:k.OTHER,aardeweg:k.OTHER,veer:k.OTHER,"niet gekend":k.UNDEFINED},vt=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"initMapDataBase",value:function(e,n){var i=t.getNodesLines(n);e.setData(i.lines,i.nodes)}},{key:"getNodesLines",value:function(e){for(var n={},i={},a=0;a<e.length;a++){var r=void 0===e[a].properties.RIJRICHTING_AUTO||null===e[a].properties.RIJRICHTING_AUTO;if("LineString"===e[a].geometry.type&&e[a].geometry.coordinates.length>=2){var o=e[a].geometry.coordinates[0][1],s=e[a].geometry.coordinates[0][0];void 0===i[o+"_"+s]&&(i[o+"_"+s]=new N(o+"_"+s,o,s));for(var g=1;g<e[a].geometry.coordinates.length;g++){void 0===i[(o=e[a].geometry.coordinates[g][1])+"_"+(s=e[a].geometry.coordinates[g][0])]&&(i[o+"_"+s]=new N(o+"_"+s,o,s));var h=e[a].geometry.coordinates[g-1][1],l=e[a].geometry.coordinates[g-1][0];(r||"enkel (mee)"===e[a].properties.RIJRICHTING_AUTO||"dubbel"===e[a].properties.RIJRICHTING_AUTO)&&(n[h+"_"+l+"_"+o+"_"+s]=new G(h+"_"+l+"_"+o+"_"+s,i[h+"_"+l],i[o+"_"+s]),n[h+"_"+l+"_"+o+"_"+s].frc=t.getFRC(e[a].properties),n[h+"_"+l+"_"+o+"_"+s].fow=t.getFOW(e[a].properties)),(r||"enkel (tegen)"===e[a].properties.RIJRICHTING_AUTO||"dubbel"===e[a].properties.RIJRICHTING_AUTO)&&(n[o+"_"+s+"_"+h+"_"+l]=new G(o+"_"+s+"_"+h+"_"+l,i[o+"_"+s],i[h+"_"+l]),n[o+"_"+s+"_"+h+"_"+l].frc=t.getFRC(e[a].properties),n[o+"_"+s+"_"+h+"_"+l].fow=t.getFOW(e[a].properties))}}}return{nodes:i,lines:n}}},{key:"getFRC",value:function(t){return void 0!==t&&void 0!==t.WEGCAT?ut[t.WEGCAT]:D.FRC_7}},{key:"getFOW",value:function(t){return void 0!==t&&void 0!==t.MORF?mt[t.MORF]:D.FRC_7}}]),t}(),bt=function(){function t(){Object(s.a)(this,t)}return Object(g.a)(t,null,[{key:"initMapDataBase",value:function(e,n){var i=t.getNodesLines(n);e.setData(i.lines,i.nodes)}},{key:"getNodesLines",value:function(e){for(var n={},i={},a=0;a<e.length;a++)if("LineString"===e[a].geometry.type&&e[a].geometry.coordinates.length>=2){var r=e[a].geometry.coordinates[0][1],o=e[a].geometry.coordinates[0][0];void 0===i[r+"_"+o]&&(i[r+"_"+o]=new N(r+"_"+o,r,o));for(var s=1;s<e[a].geometry.coordinates.length;s++){void 0===i[(r=e[a].geometry.coordinates[s][1])+"_"+(o=e[a].geometry.coordinates[s][0])]&&(i[r+"_"+o]=new N(r+"_"+o,r,o));var g=e[a].geometry.coordinates[s-1][1],h=e[a].geometry.coordinates[s-1][0];n[g+"_"+h+"_"+r+"_"+o]=new G(g+"_"+h+"_"+r+"_"+o,i[g+"_"+h],i[r+"_"+o]),n[g+"_"+h+"_"+r+"_"+o].frc=t.getFRC(e[a].properties),n[g+"_"+h+"_"+r+"_"+o].fow=t.getFOW(e[a].properties)}}return{nodes:i,lines:n}}},{key:"getFRC",value:function(t){}},{key:"getFOW",value:function(t){}}]),t}(),St=[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397100806236267,51.212080675440326],[4.3963927030563354,51.212183170064435],[4.3940967321395865,51.212482251433954]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.394075274467467,51.212415042306645],[4.397052526473999,51.212028587920976]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397208094596863,51.21207563471524],[4.3975406885147095,51.21277124956351]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397073984146118,51.21200842499444],[4.395963549613953,51.21114141080123]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397116899490356,51.21202690767745],[4.397073984146118,51.21200842499444]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.39603865146637,51.21111116582538],[4.397116899490356,51.21198826205907]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397116899490356,51.21198826205907],[4.397173225879669,51.21202018670265]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397428035736084,51.21063732527733],[4.397192001342773,51.211998343527874]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397192001342773,51.211998343527874],[4.397173225879669,51.21202018670265]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397154450416565,51.21199498303851],[4.397363662719726,51.21064404645396]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397116899490356,51.21202690767745],[4.397154450416565,51.21199498303851]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397251009941101,51.21200842499444],[4.3991392850875854,51.21176646918734]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397173225879669,51.21202018670265],[4.397251009941101,51.21200842499444]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.399176836013794,51.21181351624941],[4.397631883621215,51.21202186694646],[4.397240281105041,51.21206555326336]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397631883621215,51.21202186694646],[4.397419989109039,51.21201850645882],[4.397242963314056,51.21204202986709]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397240281105041,51.21206555326336],[4.397208094596863,51.21207563471524]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397194683551788,51.212055471809286],[4.397135674953461,51.21206387302118],[4.397116899490356,51.21202690767745],[4.397173225879669,51.21202018670265],[4.397194683551788,51.212055471809286]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397242963314056,51.21204202986709],[4.397194683551788,51.212055471809286]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397194683551788,51.212055471809286],[4.397208094596863,51.21207563471524]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397135674953461,51.21206387302118],[4.397100806236267,51.212080675440326]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397052526473999,51.212028587920976],[4.397116899490356,51.21202690767745]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.39750850200653,51.21278301107689],[4.397159814834595,51.212085716164886]]}},{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[4.397159814834595,51.212085716164886],[4.397135674953461,51.21206387302118]]}}];function _t(t){if(0===t.length)throw Error("The array of lines is empty");for(var e=[],n=t.length>=2?t:[t[0],t[0]],i=0;i<n.length-1;i++)e.push({lines:[],length:0});return{LRPs:tt.lrpLinesToLRPs(n,e),posOffset:0,negOffset:0,type:M.LINE_LOCATION}}function Lt(t,e,n){return{x:function(t,e){return Math.floor((t+180)/360*Math.pow(2,e))}(e,n),y:function(t,e){return Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e))}(t,n)}}function yt(t,e,n){var i=Et(e,n),a=Et(e+1,n);return{latUpper:i,longLower:Tt(t,n),latLower:a,longUpper:Tt(t+1,n)}}function Tt(t,e){return t/Math.pow(2,e)*360-180}function Et(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}var Pt='@prefix dcterms: <http://purl.org/dc/terms/>.\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix skos: <http://www.w3.org/2004/02/skos/core#>.\n@prefix skos-thes: <http://purl.org/iso25964/skos-thes#>.\n@prefix void: <http://rdfs.org/ns/void#>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix otl: <https://w3id.org/opentrafficlights#>.\n\n<https://lodi.ilabt.imec.be/opentrafficlights/rawdata#Dataset> rdfs:type void:Dataset;\n    dcterms:subject <http://dbpedia.org/resource/Signal_timing>, <http://dbpedia.org/resource/Traffic_light>.\n_:b0_connection1 a otl:Connection;\n    otl:departureLane _:b0_lane1;\n    otl:arrivalLane _:b0_lane11;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/6>.\n_:b0_connection2 a otl:Connection;\n    otl:departureLane _:b0_lane2;\n    otl:arrivalLane _:b0_lane9;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/7>.\n_:b0_connection3 a otl:Connection;\n    otl:departureLane _:b0_lane2;\n    otl:arrivalLane _:b0_lane7;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/7>.\n_:b0_connection4 a otl:Connection;\n    otl:departureLane _:b0_lane2;\n    otl:arrivalLane _:b0_lane5;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/7>.\n_:b0_connection5 a otl:Connection;\n    otl:departureLane _:b0_lane8;\n    otl:arrivalLane _:b0_lane3;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/5>.\n_:b0_connection6 a otl:Connection;\n    otl:departureLane _:b0_lane8;\n    otl:arrivalLane _:b0_lane5;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/5>.\n_:b0_connection7 a otl:Connection;\n    otl:departureLane _:b0_lane8;\n    otl:arrivalLane _:b0_lane7;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/5>.\n_:b0_connection8 a otl:Connection;\n    otl:departureLane _:b0_lane8;\n    otl:arrivalLane _:b0_lane11;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/5>.\n_:b0_connection9 a otl:Connection;\n    otl:departureLane _:b0_lane6;\n    otl:arrivalLane _:b0_lane5;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/4>.\n_:b0_connection10 a otl:Connection;\n    otl:departureLane _:b0_lane6;\n    otl:arrivalLane _:b0_lane3;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/4>.\n_:b0_connection11 a otl:Connection;\n    otl:departureLane _:b0_lane6;\n    otl:arrivalLane _:b0_lane11;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/4>.\n_:b0_connection12 a otl:Connection;\n    otl:departureLane _:b0_lane6;\n    otl:arrivalLane _:b0_lane9;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/4>.\n_:b0_connection13 a otl:Connection;\n    otl:departureLane _:b0_lane4;\n    otl:arrivalLane _:b0_lane3;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/3>.\n_:b0_connection14 a otl:Connection;\n    otl:departureLane _:b0_lane4;\n    otl:arrivalLane _:b0_lane11;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/3>.\n_:b0_connection15 a otl:Connection;\n    otl:departureLane _:b0_lane4;\n    otl:arrivalLane _:b0_lane9;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/3>.\n_:b0_connection16 a otl:Connection;\n    otl:departureLane _:b0_lane4;\n    otl:arrivalLane _:b0_lane7;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/3>.\n_:b0_connection17 a otl:Connection;\n    otl:departureLane _:b0_lane10;\n    otl:arrivalLane _:b0_lane3;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/1>.\n_:b0_connection18 a otl:Connection;\n    otl:departureLane _:b0_lane10;\n    otl:arrivalLane _:b0_lane5;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/1>.\n_:b0_connection19 a otl:Connection;\n    otl:departureLane _:b0_lane10;\n    otl:arrivalLane _:b0_lane7;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/1>.\n_:b0_connection20 a otl:Connection;\n    otl:departureLane _:b0_lane10;\n    otl:arrivalLane _:b0_lane9;\n    otl:signalGroup <https://opentrafficlights.org/id/signalgroup/K648/1>.\n_:b0_lane1 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2120579 4.3974731, 51.2118214 4.3991321)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Kronenburgstraat (> nr. 48)".\n_:b0_lane2 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2120361 4.3974671, 51.2120058 4.3976971, 51.2120184 4.3977501)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Kronenburgstraat (> nr. 48)".\n_:b0_lane3 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2118379 4.3970829, 51.2111054 4.3961904)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Volkstraat".\n_:b0_lane4 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2117840 4.3972854, 51.2107036 4.3974678)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Geuzenstraat".\n_:b0_lane5 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2117896 4.3972204, 51.2114204 4.3973075, 51.2106996 4.3974309)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Geuzenstraat".\n_:b0_lane6 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2118379 4.3970829, 51.2111054 4.3961904)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Volkstraat".\n_:b0_lane7 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2118758 4.3970172, 51.2111339 4.3961220)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Volkstraat".\n_:b0_lane8 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2120563 4.3969880, 51.2121071 4.3965394, 51.2123772 4.3942387)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Kronenburgstraat (< nr. 48)".\n_:b0_lane9 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2121009 4.3969997, 51.2124223 4.3942465)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Kronenburgstraat (< nr. 48)".\n_:b0_lane10 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2122527 4.3973091, 51.2127026 4.3975384)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Nationalestraat".\n_:b0_lane11 a otl:Lane;\n    <http://www.opengis.net/#geosparql/wktLiteral> "LINESTRING (51.2122440 4.3973510, 51.2126980 4.3975804)";\n    <http://dbpedia.org/ontology/width> "100";\n    dcterms:description "Nationalestraat".\n<https://opentrafficlights.org/id/signalgroup/K648/1> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/2> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/3> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/4> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/5> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/6> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/7> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/8> rdfs:type otl:Signalgroup.\n<https://opentrafficlights.org/id/signalgroup/K648/9> rdfs:type otl:Signalgroup.\n<https://w3id.org/opentrafficlights/thesauri/signalphase> a skos:ConceptScheme;\n    dcterms:identifier "SIGNAL PHASE";\n    skos:hasTopConcept <https://w3id.org/opentrafficlights/thesauri/signalphase/0>, <https://w3id.org/opentrafficlights/thesauri/signalphase/1>, <https://w3id.org/opentrafficlights/thesauri/signalphase/2>, <https://w3id.org/opentrafficlights/thesauri/signalphase/3>, <https://w3id.org/opentrafficlights/thesauri/signalphase/4>, <https://w3id.org/opentrafficlights/thesauri/signalphase/5>, <https://w3id.org/opentrafficlights/thesauri/signalphase/6>, <https://w3id.org/opentrafficlights/thesauri/signalphase/7>, <https://w3id.org/opentrafficlights/thesauri/signalphase/8>, <https://w3id.org/opentrafficlights/thesauri/signalphase/9>;\n    skos:prefLabel "Signal phase"@en, "Signaal fase"@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/0> a skos:Concept;\n    dcterms:identifier "0"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Unavailable"@en, "Niet beschikbaar"@nl;\n    skos:note "This phase is used for unknown or error."@en, "Duidt aan dat er een probleem is gedetecteerd of de fase is onbekend."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/1> a skos:Concept;\n    dcterms:identifier "1"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Unlit (DARK)"@en, "Onverlicht (DONKER)"@en;\n    skos:note "Stop vehicle at stop line. Do not proceed until it\'s safe."@en, "Stop het voertuig aan de stoplijn. Wacht tot het veilig is."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/2> a skos:Concept;\n    dcterms:identifier "2"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Stop Then Proceed (flashing)"@en, "Stop-dan-verdergaan (knipperlicht)"@nl;\n    skos:note "Stop vehicle at stop line. Do not proceed until it\'s safe."@en, "Stop het voertuig aan de stoplijn. Wacht tot het veilig is."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/3> a skos:Concept;\n    dcterms:identifier "3"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Stop And Remain"@en, "Stop-En-Wacht"@nl;\n    skos:note "Stop vehicle at stop line. Do not proceed."@en, "Stop het voertuig aan de stoplijn. Wacht."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/4> a skos:Concept;\n    dcterms:identifier "4"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Pre-Movement"@en, "Voor-vertrek"@nl;\n    skos:note "Stop vehicle. Prepare to proceed."@en, "Stop het voertuig. Maak klaar om te vertrekken."@nl, "Stop het voertuig. Maak klaar om te vertrekken."@nl;\n    skos:editorialNote "Used in the European Union."@en, "Van toepassing in Europese Unie."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/5> a skos:Concept;\n    dcterms:identifier "5"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Permissive Movement Allowed"@en, "Verdergaan is toegelaten onder voorwaarden."@nl;\n    skos:note "Proceed with caution. Must yield to all conflicting traffic."@en, "Ga verder onder voorwaarde dat voorrang gegeven wordt bij conflict."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/6> a skos:Concept;\n    dcterms:identifier "6"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Protected Movement Allowed"@en, "Ga verder met voorrang-garantie."@nl;\n    skos:note "Proceed in direction indicated."@en, "Ga verder in de aangeduide richting."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/7> a skos:Concept;\n    dcterms:identifier "7"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Permissive Clearance"@en, "Kruispunt vrijmaken zonder voorrang."@nl;\n    skos:note "Prepare to stop. Proceed if unable to stop. Conflicting traffic may be present."@en, "Stop indien mogelijk. Anders maak kruispunt vrij. Conflicterend verkeer kan aanwezig zijn."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/8> a skos:Concept;\n    dcterms:identifier "8"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Protected Clearance"@en, "Kruispunt vrijmaken met voorrang-garantie."@nl;\n    skos:note "Prepare to stop. Proceed if unable to stop in direction indicated."@en, "Stop indien mogelijk. Anders maak kruispunt vrij."@nl.\n<https://w3id.org/opentrafficlights/thesauri/signalphase/9> a skos:Concept;\n    dcterms:identifier "9"^^xsd:integer;\n    skos:inScheme <https://w3id.org/opentrafficlights/thesauri/signalphase>;\n    skos:prefLabel "Caution Conflicting Traffic (Flashing)"@en, "Pas op voor conflicterend verkeer."@nl;\n    skos:note "Proceed with caution. Conflicting traffic may be present at intersection conflict area."@en, "Ga opgelet verder. Mogelijk is er conflicterend verkeer op het kruispunt."@nl.\n\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:45.018Z> {\n_:b3072910_b9851902 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851902.\n_:b3072910_b9851903 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851903.\n_:b3072910_b9851904 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851904.\n_:b3072910_b9851905 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851905.\n_:b3072910_b9851906 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:30.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851906.\n_:b3072910_b9851907 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851907.\n_:b3072910_b9851908 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851908.\n_:b3072910_b9851909 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851909.\n_:b3072910_b9851910 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851910.\n_:b3072910_b9851911 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851911.\n_:b3072910_b9851912 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072910_b9851912\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:45.018Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:45.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:44.618Z> {\n_:b3072907_b9851901 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:30.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:44.618Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072907_b9851901\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:44.618Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:44.618Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:44.018Z> {\n_:b3072903_b9851890 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851890.\n_:b3072903_b9851891 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:44.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851891.\n_:b3072903_b9851892 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:44.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851892.\n_:b3072903_b9851893 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851893.\n_:b3072903_b9851894 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:44.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:44.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851894.\n_:b3072903_b9851895 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851895.\n_:b3072903_b9851896 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:44.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851896.\n_:b3072903_b9851897 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851897.\n_:b3072903_b9851898 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:44.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851898.\n_:b3072903_b9851899 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:44.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851899.\n_:b3072903_b9851900 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072903_b9851900\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:44.018Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:44.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:43.018Z> {\n_:b3072898_b9851879 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851879.\n_:b3072898_b9851880 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:43.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851880.\n_:b3072898_b9851881 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:43.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851881.\n_:b3072898_b9851882 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851882.\n_:b3072898_b9851883 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:44.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:44.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851883.\n_:b3072898_b9851884 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851884.\n_:b3072898_b9851885 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:43.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851885.\n_:b3072898_b9851886 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851886.\n_:b3072898_b9851887 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:43.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851887.\n_:b3072898_b9851888 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:43.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851888.\n_:b3072898_b9851889 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072898_b9851889\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:43.018Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:43.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:42.018Z> {\n_:b3072895_b9851868 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851868.\n_:b3072895_b9851869 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:42.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851869.\n_:b3072895_b9851870 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:42.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851870.\n_:b3072895_b9851871 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851871.\n_:b3072895_b9851872 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:44.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:44.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851872.\n_:b3072895_b9851873 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851873.\n_:b3072895_b9851874 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:42.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851874.\n_:b3072895_b9851875 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851875.\n_:b3072895_b9851876 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:42.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851876.\n_:b3072895_b9851877 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:42.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851877.\n_:b3072895_b9851878 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072895_b9851878\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:42.018Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:42.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:41.617Z> {\n_:b3072892_b9851867 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:44.417Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:44.417Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072892_b9851867\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:41.617Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:41.617Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:41.019Z> {\n_:b3072888_b9851856 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851856.\n_:b3072888_b9851857 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:41.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851857.\n_:b3072888_b9851858 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:41.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851858.\n_:b3072888_b9851859 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851859.\n_:b3072888_b9851860 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:41.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:41.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851860.\n_:b3072888_b9851861 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851861.\n_:b3072888_b9851862 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:41.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851862.\n_:b3072888_b9851863 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851863.\n_:b3072888_b9851864 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:41.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851864.\n_:b3072888_b9851865 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:41.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851865.\n_:b3072888_b9851866 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072888_b9851866\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:41.019Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:41.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:40.018Z> {\n_:b3072883_b9851845 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851845.\n_:b3072883_b9851846 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:40.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851846.\n_:b3072883_b9851847 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:40.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851847.\n_:b3072883_b9851848 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851848.\n_:b3072883_b9851849 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:41.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:41.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851849.\n_:b3072883_b9851850 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851850.\n_:b3072883_b9851851 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:40.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851851.\n_:b3072883_b9851852 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851852.\n_:b3072883_b9851853 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:40.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851853.\n_:b3072883_b9851854 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:40.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851854.\n_:b3072883_b9851855 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072883_b9851855\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:40.018Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:40.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:39.018Z> {\n_:b3072878_b9851834 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851834.\n_:b3072878_b9851835 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:39.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851835.\n_:b3072878_b9851836 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:39.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851836.\n_:b3072878_b9851837 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851837.\n_:b3072878_b9851838 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:41.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:41.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851838.\n_:b3072878_b9851839 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851839.\n_:b3072878_b9851840 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:39.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851840.\n_:b3072878_b9851841 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851841.\n_:b3072878_b9851842 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:39.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851842.\n_:b3072878_b9851843 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:39.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851843.\n_:b3072878_b9851844 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.418Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.418Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072878_b9851844\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:39.018Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:39.018Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:38.019Z> {\n_:b3072875_b9851823 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/0>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:04.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:37:07.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/6> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851823.\n_:b3072875_b9851824 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:38.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/7> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851824.\n_:b3072875_b9851825 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:38.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/5> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851825.\n_:b3072875_b9851826 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/4> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851826.\n_:b3072875_b9851827 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:41.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:41.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/3> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851827.\n_:b3072875_b9851828 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:35:48.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/1> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851828.\n_:b3072875_b9851829 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:38.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/8> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851829.\n_:b3072875_b9851830 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/12> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851830.\n_:b3072875_b9851831 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:13.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:38.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/9> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851831.\n_:b3072875_b9851832 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/3>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:36:12.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T09:35:38.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/10> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851832.\n_:b3072875_b9851833 <http://www.w3.org/2000/01/rdf-schema#type> <https://w3id.org/opentrafficlights#SignalState>;\n    <https://w3id.org/opentrafficlights#signalPhase> <https://w3id.org/opentrafficlights/thesauri/signalphase/6>;\n    <https://w3id.org/opentrafficlights#minEndTime> "2019-02-14T08:35:55.419Z"^^<http://www.w3.org/2001/XMLSchema#date>;\n    <https://w3id.org/opentrafficlights#maxEndTime> "2019-02-14T08:36:13.419Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n<https://opentrafficlights.org/id/signalgroup/K648/11> <https://w3id.org/opentrafficlights#signalState> _:b3072875_b9851833\n}\n<https://opentrafficlights.org/spat/K648?time=2019-02-14T08:35:38.019Z> <http://www.w3.org/ns/prov#generatedAtTime> "2019-02-14T08:35:38.019Z"^^<http://www.w3.org/2001/XMLSchema#date>.\n\n<#Metadata> {\n<https://lodi.ilabt.imec.be/observer/rawdata/latest> <http://www.w3.org/ns/hydra/core#search> <https://lodi.ilabt.imec.be/observer/rawdata/latest#search>.\n<https://lodi.ilabt.imec.be/observer/rawdata/latest#search> a <http://www.w3.org/ns/hydra/core#IriTemplate>;\n    <http://www.w3.org/ns/hydra/core#template> "https://lodi.ilabt.imec.be/observer/rawdata{?time}";\n    <http://www.w3.org/ns/hydra/core#variableRepresentation> <http://www.w3.org/ns/hydra/core#BasicRepresentation>;\n    <http://www.w3.org/ns/hydra/core#mapping> <https://lodi.ilabt.imec.be/observer/rawdata/latest#mapping>.\n<https://lodi.ilabt.imec.be/observer/rawdata/latest#mapping> a <http://www.w3.org/ns/hydra/core#IriTemplateMapping>;\n    <http://www.w3.org/ns/hydra/core#variable> "time";\n    <http://www.w3.org/ns/hydra/core#required> "true"^^<http://www.w3.org/2001/XMLSchema#boolean>.\n<https://lodi.ilabt.imec.be/observer/rawdata/latest> <http://rdfs.org/ns/void#inDataset> <https://lodi.ilabt.imec.be/observer/rawdata#Dataset>;\n    <http://creativecommons.org/ns#license> <https://creativecommons.org/publicdomain/zero/1.0/>;\n    <http://www.w3.org/ns/hydra/core#previous> <https://lodi.ilabt.imec.be/observer/rawdata/fragments?time=2019-02-14T08:35:26.618Z>\n}\n';var Ot=function(){function t(e){Object(s.a)(this,t),this.tree=it()(),this.addPolygons(e)}return Object(g.a)(t,[{key:"addPolygons",value:function(t){this.tree.load(t)}},{key:"findCloseBy",value:function(t,e,n){var i=this.toDegrees(n/6371e3),a=this.toDegrees(n/(6371e3*Math.cos(this.toRadians(t)))),r=t+i,o=t-i,s=e+a,g=e-a;return this.findInRange(o,g,r,s)}},{key:"findInRange",value:function(t,e,n,i){var a=Object(O.polygon)([[[e,t],[e,n],[i,n],[i,t],[e,t]]]);return this.tree.search(a).features}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"toDegrees",value:function(t){return t/Math.PI*180}}]),t}(),kt=function(){function t(){Object(s.a)(this,t),this.searchTree=void 0,this.amountOfDatasets=0}return Object(g.a)(t,[{key:"addCatalogPage",value:function(e){var n=t._createFeaturesForGeoSpatialDataSets(e),i={type:"FeatureCollection",features:n};return void 0===this.searchTree?this.searchTree=new Ot(i):this.searchTree.addPolygons(i),this.amountOfDatasets+=n.length,{currentPage:e.currentPage,nextPage:e.nextPage,lastPage:e.lastPage}}},{key:"getDataSetsByDistance",value:function(t,e,n){return this.searchTree.findCloseBy(t,e,n)}},{key:"getDataSetsInRange",value:function(t,e,n,i){return this.searchTree.findInRange(t,n,e,i)}},{key:"getDatasetCount",value:function(){return this.amountOfDatasets}}],[{key:"_createFeaturesForGeoSpatialDataSets",value:function(t){var e=[];for(var n in t.dataSets)t.dataSets.hasOwnProperty(n)&&void 0!==t.dataSets[n].geojson&&t.dataSets[n].hasValidKeyword&&e.push({type:"Feature",properties:{id:n,distribution:t.distributions[t.dataSets[n].distribution]},geometry:t.dataSets[n].geojson});return e}}]),t}(),Dt=n(4),Mt=n.n(Dt),It=n(22),Rt=n(29),jt=n.n(Rt),Nt=jt.a.DataFactory.namedNode;function Ct(t){return new Promise(function(e){var n=new jt.a.Parser,i=new jt.a.Store;n.parse(t,function(t,n,a){n?i.addQuad(n):e(i)})})}function xt(t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(It.a)(Mt.a.mark(function t(e){var n;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getQuads(null,Nt("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),Nt("http://www.w3.org/ns/dcat#Dataset")).forEach(function(t){n[t.subject.value]={}});case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Xt(t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(It.a)(Mt.a.mark(function t(e){var n,i,a,r;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},i={},t.next=4,e.getQuads(null,Nt("http://www.w3.org/ns/dcat#distribution"),null).forEach(function(t){n[t.subject.value]=t.object.value});case 4:a=Mt.a.mark(function t(a){return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.hasOwnProperty(a)){t.next=3;break}return t.next=3,e.getQuads(Nt(n[a]),null,null).forEach(function(t){void 0===i[n[a]]&&(i[n[a]]={}),i[n[a]][t.predicate.value]=t.object.value});case 3:case"end":return t.stop()}},t)}),t.t0=Mt.a.keys(n);case 6:if((t.t1=t.t0()).done){t.next=11;break}return r=t.t1.value,t.delegateYield(a(r),"t2",9);case 9:t.next=6;break;case 11:return t.abrupt("return",{distributionsData:i,distributions:n});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Kt(t){return At.apply(this,arguments)}function At(){return(At=Object(It.a)(Mt.a.mark(function t(e){var n;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getQuads(null,Nt("http://purl.org/dc/terms/spatial"),null).forEach(function(t){n[t.subject.value]=t.object.value});case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Bt(t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(It.a)(Mt.a.mark(function t(e){var n;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getQuads(null,Nt("http://www.w3.org/ns/locn#geometry"),null).forEach(function(t){"{"===t.object.value[0]&&(n[t.subject.value]=JSON.parse(t.object.value))});case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Wt(t){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(It.a)(Mt.a.mark(function t(e){var n;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.getQuads(null,Nt("http://www.w3.org/ns/dcat#keyword"),null).forEach(function(t){void 0===n[t.subject.value]&&(n[t.subject.value]=[]),n[t.subject.value].push(t.object.value)});case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Vt(t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(It.a)(Mt.a.mark(function t(e){var n;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={currentPage:void 0,nextPage:void 0,lastPage:void 0},t.next=3,e.getQuads(null,null,Nt("http://www.w3.org/ns/hydra/core#PagedCollection")).forEach(function(t){n.currentPage=t.subject.value});case 3:if(void 0===n.currentPage){t.next=8;break}return t.next=6,e.getQuads(this.currentPage,Nt("http://www.w3.org/ns/hydra/core#lastPage"),null).forEach(function(t){n.lastPage=t.object.value});case 6:return t.next=8,e.getQuads(this.currentPage,Nt("http://www.w3.org/ns/hydra/core#nextPage"),null).forEach(function(t){n.nextPage=t.object.value});case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},i={},a={},r=void 0,o=void 0,s=void 0;return t.forEach(function(t){if("http://www.w3.org/ns/dcat#distribution"===t.predicate.value&&(void 0===n[t.subject.value]&&(n[t.subject.value]={}),n[t.subject.value].distribution=t.object.value,void 0===i[t.object.value]&&(i[t.object.value]={})),"http://purl.org/dc/terms/spatial"===t.predicate.value&&(void 0===n[t.subject.value]&&(n[t.subject.value]={}),a[t.object.value]=t.subject.value),"http://www.w3.org/ns/locn#geometry"===t.predicate.value&&"{"===t.object.value[0]){if(void 0===a[t.subject.value])throw Error(t.subject.value+" not previously encountered!");n[a[t.subject.value]].geojson=JSON.parse(t.object.value)}"http://www.w3.org/ns/dcat#keyword"===t.predicate.value&&(void 0===n[t.subject.value]&&(n[t.subject.value]={}),void 0===n[t.subject.value].keywords&&(n[t.subject.value].keywords=[]),(0===e.length||e.includes(t.object.value))&&(n[t.subject.value].hasValidKeyword=!0),n[t.subject.value].keywords.push(t.object.value)),void 0!==i[t.subject.value]&&(i[t.subject.value][t.predicate.value]=t.object.value),"http://www.w3.org/ns/hydra/core#PagedCollection"===t.object.value&&(r=t.subject.value),void 0!==r&&t.subject.value===r&&("http://www.w3.org/ns/hydra/core#lastPage"===t.predicate.value&&(o=t.object.value),"http://www.w3.org/ns/hydra/core#nextPage"===t.predicate.value&&(s=t.object.value))}),{dataSets:n,distributions:i,currentPage:r,nextPage:s,lastPage:o}}function Yt(){return(Yt=Object(It.a)(Mt.a.mark(function t(e){var n,i,a,r,o,s,g,h,l,p,d=arguments;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:[],i={},a={},r={},o={},s={},g={},h={},t.next=10,Promise.all([xt(e).then(function(t){i=t}),Xt(e).then(function(t){a=t.distributions,r=t.distributionsData}),Kt(e).then(function(t){o=t}),Bt(e).then(function(t){s=t}),Wt(e).then(function(t){g=t}),Vt(e).then(function(t){h=t})]);case 10:for(l in i)if(i.hasOwnProperty(l)&&(i[l].distribution=a[l],i[l].geojson=s[o[l]],i[l].keywords=g[l],void 0!==n))for(p=0;p<g[l].length;p++)(0===n.length||n.includes(g[l][p]))&&(i[l].hasValidKeyword=!0);return t.abrupt("return",{dataSets:i,distributions:r,currentPage:h.currentPage,nextPage:h.nextPage,lastPage:h.lastPage});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Qt(t){return new Promise(function(e){new dt.a({headers:{accept:"application/rdf+xml"}}).get(t).then(function(t){e(t)})})}function qt(t){return new Promise(function(e,n){lt.a.get(t).then(function(t){return e(t.data)}).catch(function(t){return n(t)})})}var Jt=n(479),$t=function(t){var e=[],n=t.match(/\d*\.\d*/g),i=0,a=0;return n.forEach(function(t){a%2===0?i=parseFloat(t):e.push([i,parseFloat(t)]),a=(a+1)%2}),e};function te(t,e,n,i){var a=Object(O.point)([e,t]),r=Object(O.point)([i,n]);return P()(a,r,{units:"meters"})}var ee=jt.a.DataFactory.namedNode;function ne(t){return ie.apply(this,arguments)}function ie(){return(ie=Object(It.a)(Mt.a.mark(function t(e){var n;return Mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getQuads(null,"http://www.opengis.net/#geosparql/wktLiteral",null).forEach(function(t){n[t.subject.value]=t.object.value});case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ae={OpenLrEncode:"OpenLr encode lines in database only existing of these lines, only first and last line wil remain.",LinesToLRPs:"Simply make every line an LRP directly, without checking all the encoding steps."},re={RawLineStrings:"Show the LineStrings as present in the dataset.",MappedLineStrings:"Show the LineStrings mapped on the current mapDataBase"},oe={vodap:"Vlaamse Open Data Portaal",verkeerslichtdata_catalog_ttl:"Custom catalog for traffic light data on https://github.com/kareldh/TrafficLightsCatalog"},se=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(h.a)(this,Object(l.a)(e).call(this))).location={lat:51.21205,lng:4.39717},t.state={data:[],tileXY:Lt(t.location.lat,t.location.lng,14),encodingStrat:ae.OpenLrEncode,lineVisualisation:re.MappedLineStrings,catalog:oe.verkeerslichtdata_catalog_ttl},t.key=0,t.mapDataBase=new st,t.tiles={},t.catalogInitialized=t.initCatalog(),t.dataBaseInitialized=new Promise(function(t){return t(!0)}),t.setLocation=t.setLocation.bind(Object(f.a)(t)),t.mappedDataSets={},t.resetMap=t.resetMap.bind(Object(f.a)(t)),t.handleGeoJsonClick=t.handleGeoJsonClick.bind(Object(f.a)(t)),t.handleEncodingStratSelect=t.handleEncodingStratSelect.bind(Object(f.a)(t)),t.handleLineStringVisualisationSelect=t.handleLineStringVisualisationSelect.bind(Object(f.a)(t)),t.handleInternalPrecisionSelect=t.handleInternalPrecisionSelect.bind(Object(f.a)(t)),t.handleCatalogSelect=t.handleCatalogSelect.bind(Object(f.a)(t)),t}return Object(p.a)(e,t),Object(g.a)(e,[{key:"initCatalog",value:function(t){var e=this;return this.catalog=new kt,t===oe.vodap?new Promise(function(t){var n=performance.now();Qt("https://cors-anywhere.herokuapp.com/https://opendata.vlaanderen.be/catalog.rdf").then(function(i){var a=performance.now(),r=zt(i.triples,["Boring"]),o=e.catalog.addCatalogPage(r),s=performance.now();console.log("first catalog page downloaded in",a-n,"ms","and parsed in",s-a,"ms"),function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;return new Promise(function(t){var r=performance.now();Qt((a&&a.uriPrefix?a.uriPrefix:"")+e.nextPage).then(function(e){var o=performance.now(),s=zt(e.triples,i),g=n.addCatalogPage(s),h=performance.now();a&&a.logging&&console.log("page downloaded in",o-r,"ms","and parsed in",h-o,"ms"),t(g)})}).then(function(e){return e.currentPage!==e.lastPage?t(e,n,i,a):e})}(o,e.catalog,["Boring"],{uriPrefix:"https://cors-anywhere.herokuapp.com/",logging:!0}).then(function(){var e=performance.now();console.log("Catalog initialized in",e-n,"ms"),t()})})}):new Promise(function(t){var n=performance.now();qt("https://raw.githubusercontent.com/kareldh/TrafficLightsCatalog/master/verkeerslicht_catalog.ttl").then(function(i){var a=performance.now();console.log("Catalog downloaded in",a-n,"ms"),Ct(i).then(function(i){(function(t){return Yt.apply(this,arguments)})(i,["verkeerslicht"]).then(function(i){var r=performance.now(),o=e.catalog.addCatalogPage(i);console.log("Catalog initialized in",r-n,"ms","(Of which parsing took",r-a,"ms)"),t(o)})})})})}},{key:"addRoutableTileToMapDataBase",value:function(t,e,n){var i=this;return new Promise(function(a){wt(t,e,n).then(function(t){var r=performance.now();S(t.triples).then(function(t){var o=gt.getNodesLines(t.nodes,t.lines);i.mapDataBase.addData(o.lines,o.nodes);var s=performance.now();console.log("Parsed tile",e,n,"in",s-r,"ms"),i.tiles[e+"_"+n]=!0,a()})})})}},{key:"setLocation",value:function(t){var e=this,n=Lt(t.lat,t.lng,14);this.setState({tileXY:n});var i=[],a=performance.now();this.dataBaseInitialized=new Promise(function(t){for(var r=n.x-1;r<=n.x+1;r++)for(var o=n.y-1;o<=n.y+1;o++)i.push(e.addRoutableTileToMapDataBase(14,r,o));Promise.all(i).then(function(){var e=performance.now();console.log("mapDataBase initialized in",e-a,"ms"),t()})}),this.catalogInitialized.then(function(){var t=performance.now(),i=yt(n.x,n.y,14);console.log(i);var a=e.catalog.getDataSetsInRange(i.latLower,i.latUpper,i.longLower,i.longUpper),r=performance.now();console.log("",a.length,"datasets found in",r-t,"ms","in catalog of",e.catalog.getDatasetCount(),"datasets");var o={type:"FeatureCollection",features:[]};a.forEach(function(t){o.features.push({type:t.type,properties:t.properties,geometry:t.geometry})}),e.addGeoJson(o)})}},{key:"addGeoJson",value:function(t){this.key=(this.key+1)%2,this.setState({data:[i.createElement(Jt.a,{key:this.key,data:t,onClick:this.handleGeoJsonClick})]})}},{key:"render",value:function(){var t=this.location,e=t.lat,n=t.lng,a=this.state,r=a.data,o=a.tileXY;return i.createElement("div",null,i.createElement("div",null,i.createElement(m,{zoom:14,lat:e,lng:n,data:r,onMouseClick:this.setLocation})),i.createElement("select",{name:"Catalog",value:this.state.catalog,onChange:this.handleCatalogSelect},i.createElement("option",{value:oe.verkeerslichtdata_catalog_ttl},"verkeerslichtdata_catalog_ttl"),i.createElement("option",{value:oe.vodap},"VODAP")),i.createElement("select",{name:"Encode strategy",value:this.state.encodingStrat,onChange:this.handleEncodingStratSelect},i.createElement("option",{value:ae.OpenLrEncode},"OpenLrEncode"),i.createElement("option",{value:ae.LinesToLRPs},"Lines to LRPs")),i.createElement("select",{name:"Internal algorithmic precision",value:this.state.internalPrecision,onChange:this.handleInternalPrecisionSelect},i.createElement("option",{value:I.CENTIMETER},"Centimeter"),i.createElement("option",{value:I.METER},"Meter")),i.createElement("select",{name:"DataSet LineString visualisation",value:this.state.internalPrecision,onChange:this.handleLineStringVisualisationSelect},i.createElement("option",{value:re.MappedLineStrings},"Mapped to MapDataBase"),i.createElement("option",{value:re.RawLineStrings},"Raw LineStrings")),i.createElement("button",{onClick:this.resetMap},"Reset"),"current Tile X value: ",o.x," | Tile Y value: ",o.y)}},{key:"handleGeoJsonClick",value:function(t){var n=this;t.originalEvent.view.L.DomEvent.stopPropagation(t);var i=t.sourceTarget.feature;console.log(i);var a=i.properties.distribution["http://www.w3.org/ns/dcat#accessURL"];console.log(a);var r=[];qt(a).then(function(t){e._getTrafficLightData(t).then(function(t){if(n.state.lineVisualisation===re.MappedLineStrings){var a=e._toLRPs(t,n.state.en);n.mappedDataSets[i.properties.id]=a,n.dataBaseInitialized.then(function(){var t=performance.now();a.forEach(function(t){try{var i=J.decode(t.LRP,n.mapDataBase,R),a=e.createLineStringsOpenLrForLane(i.lines,i.posOffset,i.negOffset,t.lane);Array.prototype.push.apply(r,a)}catch(o){console.error(o)}});var i=performance.now();console.log("LRPs decoded in ",i-t,"ms"),n.setState({data:r})})}else if(n.state.lineVisualisation===re.RawLineStrings){var o=performance.now();Array.prototype.push.apply(r,e._createRawLineStrings(t));var s=performance.now();console.log("Raw lines drawn in ",s-o,"ms"),n.setState({data:r})}})}).catch(function(t){console.log("Could not download distribution:",t)})}},{key:"resetMap",value:function(){this.setState(function(t,e){return{data:[]}})}},{key:"handleInternalPrecisionSelect",value:function(t){j.internalPrecision=t.target.value,this.mapDataBase=new st,this.setLocation(this.location)}},{key:"handleEncodingStratSelect",value:function(t){this.setState({encodingStrat:t.target.value})}},{key:"handleLineStringVisualisationSelect",value:function(t){this.setState({lineVisualisation:t.target.value})}},{key:"handleCatalogSelect",value:function(t){this.setState({catalog:t.target.value}),this.initCatalog(t.target.value)}}],[{key:"_getTrafficLightData",value:function(t){return new Promise(function(e){Ct(t).then(function(t){(function(t){return new Promise(function(e){var n,i,a;Promise.all([ne(t).then(function(t){n=t}),(a=t,new Promise(function(t){var e={};a&&a.getQuads(null,ee("http://www.w3.org/2000/01/rdf-schema#type"),ee("https://w3id.org/opentrafficlights#Signalgroup")).forEach(function(t){e[t.subject.value]||(e[t.subject.value]={departureLanes:[],arrivalLanes:[]}),a.getQuads(null,ee("https://w3id.org/opentrafficlights#signalGroup"),t.subject).forEach(function(t){a.getQuads(t.subject,ee("https://w3id.org/opentrafficlights#departureLane"),null).forEach(function(n){e[t.object.value].departureLanes.includes(n.object.value)||e[t.object.value].departureLanes.push(n.object.value)}),a.getQuads(t.subject,ee("https://w3id.org/opentrafficlights#arrivalLane"),null).forEach(function(n){e[t.object.value].arrivalLanes.includes(n.object.value)||e[t.object.value].arrivalLanes.push(n.object.value)})})}),t(e)})).then(function(t){i=t})]).then(function(){for(var t in n)n.hasOwnProperty(t)&&(n[t]=$t(n[t]));var a={};for(var r in i)if(i.hasOwnProperty(r))for(var o=0;o<i[r].departureLanes.length;o++)for(var s=0;s<i[r].arrivalLanes.length;s++){var g=n[i[r].departureLanes[o]].slice(),h=n[i[r].arrivalLanes[s]].slice(),l=te(g[g.length-1][0],g[g.length-1][1],h[0][0],h[0][1]),p=te(g[g.length-1][0],g[g.length-1][1],h[h.length-1][0],h[h.length-1][1]),d=te(g[0][0],g[0][1],h[0][0],h[0][1]),c=te(g[0][0],g[0][1],h[h.length-1][0],h[h.length-1][1]);l<p&&l<d&&l<c?(a[i[r].departureLanes[o]]=g,a[i[r].arrivalLanes[s]]=h):p<l&&p<d&&p<c?(a[i[r].departureLanes[o]]=g,a[i[r].arrivalLanes[s]+"_reversed"]=h.reverse()):d<p&&d<l&&d<c?(a[i[r].departureLanes[o]+"_reversed"]=g.reverse(),a[i[r].arrivalLanes[s]]=h):c<p&&c<d&&c<l&&(a[i[r].departureLanes[o]+"_reversed"]=g.reverse(),a[i[r].arrivalLanes[s]+"_reversed"]=h.reverse())}e(a)})})})(t).then(function(t){e(t)})})})}},{key:"_createRawLineStrings",value:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(i.createElement(T.a,{positions:t[n],key:n},i.createElement(y.a,null,i.createElement("p",null,n))));return e}},{key:"_toLRPs",value:function(t,e){var n=performance.now(),i=[];for(var a in t)if(t.hasOwnProperty(a)){var r=[],o=[];r.push(new N(0,t[a][0][0],t[a][0][1]));for(var s=1;s<t[a].length;s++)r.push(new N(s,t[a][s][0],t[a][s][1])),o.push(new G(s,r[s-1],r[s]));if(e===ae.LinesToLRPs)i.push({lane:a,LRP:_t(o)});else{var g=W(r,o),h=g.nodes,l=g.lines,p=new st(l,h);i.push({lane:a,LRP:et.encode(p,o,0,0)})}}var d=performance.now();return console.log("LineStrings encoded in",d-n,"ms"),i}},{key:"createLineStringsOpenLrForLane",value:function(t,e,n,a){var r=[];if(void 0!==t){for(var o=0;o<t.length;o++)r.push(i.createElement(T.a,{positions:[[t[o].getStartNode().getLatitudeDeg(),t[o].getStartNode().getLongitudeDeg()],[t[o].getEndNode().getLatitudeDeg(),t[o].getEndNode().getLongitudeDeg()]],key:t[o].getID()+a,color:o%2===0?"Blue":"DarkTurquoise "},i.createElement(y.a,null,i.createElement("p",null,t[o].getID()+" -> "+a))));var s=t[0].getGeoCoordinateAlongLine(e*j.internalPrecision),g=t[t.length-1].getGeoCoordinateAlongLine(t[t.length-1].getLength()-n*j.internalPrecision);return r.push(i.createElement(_.a,{key:"firstOffsetPoint"+a,center:[s.lat,s.long],radius:1,color:"red"},i.createElement(y.a,null,i.createElement("p",null,"Start ",a)))),r.push(i.createElement(_.a,{key:"lastOffsetPoint"+a,center:[g.lat,g.long],radius:1,color:"magenta"},i.createElement(y.a,null,i.createElement("p",null,"End ",a)))),r}}}]),e}(i.Component),ge={RoutableTiles:"RoutableTiles",OpenStreetMap:"OpenStreetMap",Wegenregister_Antwerpen:"Wegenregister_Antwerpen",Geojson_kruispunt_tropisch_instituut:"Geojson_kruispunt_tropisch_instituut"},he={OpenLrEncode:"OpenLr encode lines in database only existing of these lines, only first and last line wil remain.",LinesToLRPs:"Simply make every line an LRP directly, without checking all the encoding steps."},le=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(h.a)(this,Object(l.a)(e).call(this,t))).state={data:[],lat:51.21205,lng:4.39717,encodingStrat:he.OpenLrEncode,dataSource:ge.RoutableTiles,internalPrecision:I.CENTIMETER},n.x=8392,n.y=5469,n.coordinates=[],n.tiles={},n.addMarker=n.addMarker.bind(Object(f.a)(n)),n.reset=n.reset.bind(Object(f.a)(n)),n.findMarkersOsm=n.findMarkersOsm.bind(Object(f.a)(n)),n.findMarkersRoutableTiles=n.findMarkersRoutableTiles.bind(Object(f.a)(n)),n.findMarkers=n.findMarkers.bind(Object(f.a)(n)),n.handleEncodingStratSelect=n.handleEncodingStratSelect.bind(Object(f.a)(n)),n.handleDataSourceSelect=n.handleDataSourceSelect.bind(Object(f.a)(n)),n.addDataBases=n.addDataBases.bind(Object(f.a)(n)),n.handleInternalPrecisionSelect=n.handleInternalPrecisionSelect.bind(Object(f.a)(n)),n.showLanesAntwerpenTest=n.showLanesAntwerpenTest.bind(Object(f.a)(n)),n.osmDataBase=void 0,n.routableTilesDataBase=void 0,n.wegenregisterDataBase=void 0,n.geojsonKruispuntDataBase=void 0,n.dataBasesInitialized=new Promise(function(t,e){return t()}),R.useFrcFow=!1,n}return Object(p.a)(e,t),Object(g.a)(e,[{key:"findMarkers",value:function(){var t=this.coordinates;if(t.length>=2){var e=[],n=[];n.push(new N(0,t[0].lat,t[0].lng));for(var i=1;i<t.length;i++)n.push(new N(i,t[i].lat,t[i].lng)),e.push(new G(i,n[i-1],n[i]));var a,r=W(n,e),o=r.nodes,s=r.lines,g=new st(s,o);this.state.encodingStrat===he.OpenLrEncode?a=et.encode(g,e,0,0):this.state.encodingStrat===he.LinesToLRPs&&(a=_t(e)),console.log(a),this.state.dataSource===ge.OpenStreetMap?this.findMarkersOsm(a):this.state.dataSource===ge.RoutableTiles?this.findMarkersRoutableTiles(a):this.state.dataSource===ge.Wegenregister_Antwerpen?this.findMarkersWegenregisterAntwerpen(a):this.state.dataSource===ge.Geojson_kruispunt_tropisch_instituut&&this.findMarkersGeojsonKruispunt(a)}else console.log("Not enough coordinates given to form a line",this.state.coordinates)}},{key:"findMarkersOsm",value:function(t){var e=this;this.dataBasesInitialized.then(function(){try{var n=performance.now(),i=J.decode(t,e.osmDataBase,R),a=performance.now();console.log("Found in Open Street Maps in",a-n,"ms",i),e.createLineStringsOpenLr(i.lines,i.posOffset,i.negOffset)}catch(r){alert(r)}})}},{key:"findMarkersRoutableTiles",value:function(t){var e=this;this.dataBasesInitialized.then(function(){try{var n=performance.now(),i=J.decode(t,e.routableTilesDataBase,R),a=performance.now();console.log("Found in RoutableTiles in",a-n,"ms",i),e.createLineStringsOpenLr(i.lines,i.posOffset,i.negOffset)}catch(r){alert(r)}})}},{key:"findMarkersWegenregisterAntwerpen",value:function(t){var e=this;if(void 0===this.wegenregisterDataBase)ft().then(function(n){try{e.wegenregisterDataBase=new st;var i=performance.now();vt.initMapDataBase(e.wegenregisterDataBase,n);var a=J.decode(t,e.wegenregisterDataBase,R),r=performance.now();console.log("Found in Wegenregister Antwerpen in",r-i,"ms",a),e.createLineStringsOpenLr(a.lines,a.posOffset,a.negOffset)}catch(o){alert(o)}});else try{var n=performance.now(),i=J.decode(t,this.wegenregisterDataBase,R),a=performance.now();console.log("Found in Wegenregister Antwerpen in",a-n,"ms",i),this.createLineStringsOpenLr(i.lines,i.posOffset,i.negOffset)}catch(r){alert(r)}}},{key:"findMarkersGeojsonKruispunt",value:function(t){if(void 0===this.geojsonKruispuntDataBase)try{var e=performance.now();this.geojsonKruispuntDataBase=new st,bt.initMapDataBase(this.geojsonKruispuntDataBase,St);var n=J.decode(t,this.geojsonKruispuntDataBase,R),i=performance.now();console.log("Found in Geojson kruispunt in",i-e,"ms",n),this.createLineStringsOpenLr(n.lines,n.posOffset,n.negOffset)}catch(s){alert(s)}else try{var a=performance.now(),r=J.decode(t,this.geojsonKruispuntDataBase,R),o=performance.now();console.log("Found in Geojson kruispunt in",o-a,"ms",r),this.createLineStringsOpenLr(r.lines,r.posOffset,r.negOffset)}catch(s){alert(s)}}},{key:"addMarker",value:function(t){var n=this;this.addDataBases(t,this.state.dataSource),this.coordinates.push(t),this.setState(function(){return{data:n.coordinates.map(function(t){return e.createMarker(t.lat,t.lng)})}})}},{key:"addDataBases",value:function(t,e){var n=this,i=Lt(t.lat,t.lng,14);this.x=i.x,this.y=i.y;var a=[],r=performance.now(),o=new Promise(function(t){for(var o=i.x-1;o<=i.x+1;o++)for(var s=i.y-1;s<=i.y+1;s++)n.tiles[o+"_"+s]||(e===ge.RoutableTiles?a.push(n.addRoutableTileToMapDataBase(14,o,s)):e===ge.OpenStreetMap&&a.push(n.addOpenStreetMapTileToMapDataBase(14,o,s)),n.tiles[o+"_"+s]=!0);Promise.all(a).then(function(){var e=performance.now();console.log("mapDataBase initialized in",e-r,"ms"),t()}).catch()});this.dataBasesInitialized=Promise.all([this.dataBasesInitialized,o])}},{key:"addRoutableTileToMapDataBase",value:function(t,e,n){var i=this,a=performance.now();return new Promise(function(r,o){wt(t,e,n).then(function(o){var s=performance.now();console.log("downloaded tile",e,n,t,"in",s-a,"ms");var g=performance.now();S(o.triples).then(function(a){void 0===i.routableTilesDataBase&&(i.routableTilesDataBase=new st);var o=gt.getNodesLines(a.nodes,a.lines);i.routableTilesDataBase.addData(o.lines,o.nodes);var s=performance.now();console.log("parsed tile",e,n,t,"in",s-g,"ms"),r()})}).catch(function(t){return o(t)})})}},{key:"addOpenStreetMapTileToMapDataBase",value:function(t,e,n){var i=this,a=yt(e,n,t),r=performance.now();return new Promise(function(o,s){var g,h,l,p;(g=a.latLower,h=a.latUpper,l=a.longLower,p=a.longUpper,new Promise(function(t,e){lt.a.get("https://api.openstreetmap.org/api/0.6/map?bbox="+l+","+g+","+p+","+h).then(function(e){return t(e.data)}).catch(function(t){e(t)})})).then(function(a){var s=performance.now();console.log("downloaded tile",e,n,t,"in",s-r,"ms");var g,h=performance.now();(g=a,new Promise(function(t,e){!0===b.a.validate(g)?t(b.a.parse(g,{ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0})):e("could not parse xml")})).then(function(a){(function(t){return new Promise(function(e){var n={},i={},a={};t.osm.node.forEach(function(t){n[t["@_id"]]=t}),t.osm.way.forEach(function(t){i[t["@_id"]]=t}),t.osm.relation.forEach(function(t){a[t["@_id"]]=t}),e({nodes:n,ways:i,relations:a})})})(a).then(function(a){var r;(r=a,new Promise(function(t){var e={},n=function(t){r.ways.hasOwnProperty(t)&&void 0!==r.ways[t].tag&&(Array.isArray(r.ways[t].tag)?r.ways[t].tag.forEach(function(n){"highway"===n["@_k"]&&(e[t]=r.ways[t])}):void 0!==r.ways[t].tag["@_k"]&&"highway"===r.ways[t].tag["@_k"]&&(e[t]=r.ways[t]))};for(var i in r.ways)n(i);t({nodes:r.nodes,ways:e,relations:r.relations})})).then(function(a){void 0===i.osmDataBase&&(i.osmDataBase=new st);var r=H.getNodesLines(a.nodes,a.ways,a.relations);i.osmDataBase.addData(r.lines,r.nodes);var s=performance.now();console.log("parsed tile",e,n,t,"in",s-h,"ms"),o()})})})}).catch(function(t){return s(t)})})}},{key:"createLineStringsOpenLr",value:function(t,n,i){var r=[];if(void 0!==t){for(var o=0;o<t.length;o++)r.push(e.createPolyline(t[o],o));var s=t[0].getGeoCoordinateAlongLine(n*j.internalPrecision),g=t[t.length-1].getGeoCoordinateAlongLine(t[t.length-1].getLength()-i*j.internalPrecision);r.push(a.a.createElement(_.a,{key:"firstOffsetPoint",center:[s.lat,s.long],radius:1,color:"red"})),r.push(a.a.createElement(_.a,{key:"lastOffsetPoint",center:[g.lat,g.long],radius:1,color:"magenta"})),this.setState({data:r})}}},{key:"reset",value:function(){this.setState(function(t){return{data:[],coordinates:[],lat:t.lat,lng:t.lng}}),this.coordinates=[]}},{key:"render",value:function(){var t=this.state,e=t.data,n=t.lat,i=t.lng;return console.log(e),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(m,{zoom:14,lat:n,lng:i,data:e,onMouseClick:this.addMarker})),a.a.createElement("select",{name:"Datasource",value:this.state.dataSource,onChange:this.handleDataSourceSelect},a.a.createElement("option",{value:ge.RoutableTiles},"Routable Tiles data"),a.a.createElement("option",{value:ge.OpenStreetMap},"Open Street Map data"),a.a.createElement("option",{value:ge.Wegenregister_Antwerpen},"Wegenregister Antwerpen data"),a.a.createElement("option",{value:ge.Geojson_kruispunt_tropisch_instituut},"Geojson kruispunt tropisch instituut Antwerpen data")),a.a.createElement("select",{name:"Encode strategy",value:this.state.encodingStrat,onChange:this.handleEncodingStratSelect},a.a.createElement("option",{value:he.OpenLrEncode},"OpenLrEncode"),a.a.createElement("option",{value:he.LinesToLRPs},"Lines to LRPs")),a.a.createElement("select",{name:"Internal algorithmic precision",value:this.state.internalPrecision,onChange:this.handleInternalPrecisionSelect},a.a.createElement("option",{value:I.CENTIMETER},"Centimeter"),a.a.createElement("option",{value:I.METER},"Meter")),a.a.createElement("button",{onClick:this.findMarkers},"Find lines in data"),a.a.createElement("button",{onClick:this.reset},"Reset"),a.a.createElement("button",{onClick:this.showLanesAntwerpenTest},"Demo kruispunt"),"current tile x value: ",this.x,"   current tile y value: ",this.y)}},{key:"handleEncodingStratSelect",value:function(t){this.setState({encodingStrat:t.target.value})}},{key:"handleDataSourceSelect",value:function(t){this.setState({dataSource:t.target.value}),this.tiles=[]}},{key:"handleInternalPrecisionSelect",value:function(t){this.osmDataBase=void 0,this.routableTilesDataBase=void 0,this.wegenregisterDataBase=void 0,this.geojsonKruispuntDataBase=void 0,this.tiles=[],j.internalPrecision=1*t.target.value,this.setState({internalPrecision:1*t.target.value}),this.reset()}},{key:"showLanesAntwerpenTest",value:function(){var t=this,e=[],n=void 0,i=new Promise(function(t){return t()});this.state.dataSource===ge.Wegenregister_Antwerpen?void 0===this.wegenregisterDataBase&&(i=new Promise(function(e){var n=performance.now();ft().then(function(i){var a=performance.now();console.log("Wegenregister downloaded in",a-n,"ms");try{var r=performance.now();t.wegenregisterDataBase=new st,vt.initMapDataBase(t.wegenregisterDataBase,i);var o=performance.now();console.log("Wegenregister parsed in",o-r,"ms"),console.log("Wegenregister initialised in",o-n),e()}catch(s){alert(s)}})})):this.state.dataSource===ge.Geojson_kruispunt_tropisch_instituut?void 0===this.geojsonKruispuntDataBase&&(this.geojsonKruispuntDataBase=new st,bt.initMapDataBase(this.geojsonKruispuntDataBase,St)):(this.addDataBases({lat:51.21205,lng:4.39717},this.state.dataSource),i=this.dataBasesInitialized),console.log(i),new Promise(function(t){return t(Pt)}).then(function(a){se._getTrafficLightData(a).then(function(a){var r=se._toLRPs(a,t.state.encodingStrat);i.then(function(){console.log(i),t.state.dataSource===ge.OpenStreetMap?n=t.osmDataBase:t.state.dataSource===ge.RoutableTiles?n=t.routableTilesDataBase:t.state.dataSource===ge.Wegenregister_Antwerpen?n=t.wegenregisterDataBase:t.state.dataSource===ge.Geojson_kruispunt_tropisch_instituut&&(n=t.geojsonKruispuntDataBase),console.log("Lines in target database:",Object.keys(n.lines).length);var a=performance.now();r.forEach(function(t){try{var i=J.decode(t.LRP,n,R);console.log("Line:",t,"Decoded:",i);var a=se.createLineStringsOpenLrForLane(i.lines,i.posOffset,i.negOffset,t.lane);Array.prototype.push.apply(e,a)}catch(r){console.error(r)}});var o=performance.now();console.log("LRPs decoded in ",o-a,"ms"),t.setState({data:e})}).catch(function(e){t.osmDataBase=void 0,t.routableTilesDataBase=void 0,t.wegenregisterDataBase=void 0,t.geojsonKruispuntDataBase=void 0,t.tiles=[],t.dataBasesInitialized=new Promise(function(t,e){return t()}),alert(e)})})})}}],[{key:"createMarker",value:function(t,e){return a.a.createElement(L.a,{key:t+"_"+e,position:[t,e]},a.a.createElement(y.a,null,a.a.createElement("p",null,t+" "+e)))}},{key:"createPolyline",value:function(t,e){return a.a.createElement(T.a,{positions:[[t.getStartNode().getLatitudeDeg(),t.getStartNode().getLongitudeDeg()],[t.getEndNode().getLatitudeDeg(),t.getEndNode().getLongitudeDeg()]],key:t.getID(),color:e%2===0?"Blue":"DarkTurquoise "},a.a.createElement(y.a,null,a.a.createElement("p",null,t.getID())))}}]),e}(a.a.Component),pe=n(483),de=function(t){function e(){var t,n;Object(s.a)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).state={},n.handleItemClick=function(t,e){var i=e.name;return n.setState({activeItem:i})},n}return Object(p.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){var t=this.state.activeItem;return a.a.createElement(pe.a,null,a.a.createElement(pe.a.Item,{as:d.b,to:"/OpenLRDemo/",name:"OpenLRDemo",active:"OpenLRDemo"===t,onClick:this.handleItemClick},"OpenLR demo page"),a.a.createElement(pe.a.Item,{as:d.b,to:"/DiscoveryDemo/",name:"DiscoveryDemo",active:"DiscoveryDemo"===t,onClick:this.handleItemClick},"Dataset discovery demo page"))}}]),e}(a.a.Component),ce=function(t){function e(){return Object(s.a)(this,e),Object(h.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(g.a)(e,[{key:"render",value:function(){return a.a.createElement(d.a,{basename:"/intersection_visualisation_demo"},a.a.createElement("div",null,a.a.createElement(de,null),a.a.createElement(c.a,{path:"/OpenLRDemo/",component:le}),a.a.createElement(c.a,{path:"/DiscoveryDemo/",component:se})))}}]),e}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(475);o.a.render(a.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[231,1,2]]]);
//# sourceMappingURL=main.bdd8271d.chunk.js.map